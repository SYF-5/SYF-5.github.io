import{d as S,c as d,B as x,w as K,o as B,f as n,e as p,h as s,t as c,F as h,j as k,s as $,q as F,g as r,_ as T}from"./index-DAxfXp3v.js";import{u as b,L as N,a as P,b as A}from"./LayoutFooter-B3nzJNrA.js";import{u as M}from"./cart-DQIgC6Zw.js";import"./user-CL0fupFs.js";import"./productService-CWjtSJie.js";function v(i){return typeof i=="string"?i:Array.isArray(i)&&i.length>0?i[0]:""}const R={class:"results-content"},V={key:0,class:"loading-state"},j={key:1,class:"no-results"},D={class:"suggestions"},E={class:"hot-tags"},H=["onClick"],I={key:2},Q={class:"results-header"},z={class:"results-count"},G={class:"product-list"},J=["onClick"],O=["src","alt"],U={class:"product-info"},W=["onClick"],X={class:"product-desc"},Y={class:"product-price"},Z=["onClick"],ss={key:3,class:"initial-state"},ts=S({__name:"index",setup(i){const u=x(),y=F(),a=b(),f=M(),m=d(()=>v(u.query.q)||a.keyword),l=d(()=>a.results),w=d(()=>a.isLoading),C=d(()=>a.hotKeywords);K(()=>u.query.q,t=>{const e=v(t);e.trim()&&a.searchProducts(e)},{immediate:!0});const q=t=>{y.push({path:"/search",query:{q:t}})},g=t=>{y.push(`/product/${t}`)},L=t=>{f.addToCart({id:t.id,name:t.name,price:t.price,picture:t.picture,quantity:1})};return B(()=>{const t=v(u.query.q);t&&a.searchProducts(t)}),(t,e)=>(r(),n(h,null,[p(N),p(P),s("div",R,[w.value?(r(),n("div",V,[...e[0]||(e[0]=[s("div",{class:"spinner"},null,-1),s("p",null,"æ­£åœ¨æœç´¢...",-1)])])):l.value.length===0&&m.value?(r(),n("div",j,[e[2]||(e[2]=s("div",{class:"empty-icon"},"ğŸ”",-1)),s("h3",null,'æ²¡æœ‰æ‰¾åˆ°"'+c(m.value)+'"ç›¸å…³å•†å“',1),e[3]||(e[3]=s("p",null,"è¯·å°è¯•å…¶ä»–å…³é”®è¯",-1)),s("div",D,[e[1]||(e[1]=s("h4",null,"çƒ­é—¨æœç´¢ï¼š",-1)),s("div",E,[(r(!0),n(h,null,k(C.value,o=>(r(),n("span",{key:o,class:"hot-tag",onClick:_=>q(o)},c(o),9,H))),128))])])])):l.value.length>0?(r(),n("div",I,[s("div",Q,[e[4]||(e[4]=s("h2",null,"æœç´¢ç»“æœ",-1)),s("p",z,"æ‰¾åˆ° "+c(l.value.length)+" ä¸ªç›¸å…³å•†å“",1)]),s("div",G,[(r(!0),n(h,null,k(l.value,o=>(r(),n("div",{key:o.id,class:"product-card"},[s("div",{class:"product-image-wrapper",onClick:_=>g(o.id)},[s("img",{src:o.picture,alt:o.name,class:"product-image"},null,8,O)],8,J),s("div",U,[s("h3",{class:"product-name",onClick:_=>g(o.id)},c(o.name),9,W),s("p",X,c(o.desc),1),s("div",Y,"Â¥"+c(o.price.toFixed(2)),1),s("button",{class:"add-to-cart-btn",onClick:$(_=>L(o),["stop"])},"åŠ å…¥è´­ç‰©è½¦",8,Z)])]))),128))])])):(r(),n("div",ss,[...e[5]||(e[5]=[s("div",{class:"placeholder-icon"},"ğŸ”",-1),s("p",null,"è¯·è¾“å…¥å…³é”®è¯æœç´¢å•†å“",-1)])]))]),p(A)],64))}}),as=T(ts,[["__scopeId","data-v-1fc14426"]]);export{as as default};
