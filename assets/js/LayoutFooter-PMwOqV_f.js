import{d as F,B as U,f,h as a,u as d,F as w,m as c,t as x,e as r,p as V,l as u,A as E,g as p,_ as L,G as z,r as _,c as y,b as G,i as R,z as Z,H as K,I as Q,j as M,s as W,q as X,J as g,D as Y}from"./index-DhGQ3uT_.js";import{p as D}from"./productService-DLGyYyOD.js";import{u as tt}from"./cart-CtHA6v68.js";const at={class:"app-topnav"},st={class:"container"},et={href:"javascript:;"},ot=F({__name:"LayoutNav",setup(e){const v=U(),i=()=>{v.logout(),E.success("å·²é€€å‡ºç™»å½•")};return(o,t)=>{const m=V("el-popconfirm"),l=V("router-link");return p(),f("nav",at,[a("div",st,[a("ul",null,[d(v).isLogin?(p(),f(w,{key:0},[a("li",null,[a("a",et,[t[1]||(t[1]=a("i",{class:"iconfont icon-user"},null,-1)),c(x(d(v).userInfo?.account),1)])]),a("li",null,[r(m,{title:"ç¡®è®¤é€€å‡ºå—?","confirm-button-text":"ç¡®è®¤","cancel-button-text":"å–æ¶ˆ",onConfirm:i},{reference:u(()=>[...t[2]||(t[2]=[a("a",{href:"javascript:;"},"é€€å‡ºç™»å½•",-1)])]),_:1})]),t[4]||(t[4]=a("li",null,[a("a",{href:"javascript:;"},"æˆ‘çš„è®¢å•")],-1)),a("li",null,[r(l,{to:"/Cart"},{default:u(()=>[...t[3]||(t[3]=[c("æˆ‘çš„è´­ç‰©è½¦",-1)])]),_:1})])],64)):(p(),f(w,{key:1},[a("li",null,[a("a",{href:"javascript:;",onClick:t[0]||(t[0]=H=>o.$router.push("/login"))},"è¯·å…ˆç™»å½•")]),t[5]||(t[5]=a("li",null,[a("a",{href:"javascript:;"},"å¸®åŠ©ä¸­å¿ƒ")],-1)),t[6]||(t[6]=a("li",null,[a("a",{href:"javascript:;"},"å…³äºæˆ‘ä»¬")],-1))],64))])])])}}}),qt=L(ot,[["__scopeId","data-v-f8f481ff"]]),nt=z("search",()=>{const e=_([]),v=_(["æ°´æœ","è”¬èœ","æ•°ç ","é¥°å“","é£Ÿå“","æ¯å©´"]),i=_([]),o=_([]),t=_(""),m=_(!1),l=()=>{const s=localStorage.getItem("searchHistory");if(s)try{e.value=JSON.parse(s)}catch(n){console.error("è§£ææœç´¢å†å²å¤±è´¥:",n),e.value=[]}},H=s=>{if(!s.trim())return;const n=e.value.indexOf(s);n!==-1&&e.value.splice(n,1),e.value.unshift(s),e.value.length>10&&(e.value=e.value.slice(0,10)),localStorage.setItem("searchHistory",JSON.stringify(e.value))},I=s=>{e.value.splice(s,1),localStorage.setItem("searchHistory",JSON.stringify(e.value))},k=()=>{e.value=[],localStorage.removeItem("searchHistory")},$=s=>{const n=["æ°´æœ","è”¬èœ","è°·ç‰©","è›‹ç±»","æœé¥°","æ‰‹æœº","ç”µè„‘","å¹³æ¿","è€³æœº","è¡£æœ","é‹å­","åŒ…åŒ…","ç¾å¦†","é£Ÿå“","é¥®æ–™","é›¶é£Ÿ"];i.value=n.filter(C=>C.includes(s)).slice(0,5)},j=async s=>{await D.loadAllData();const n=D.getAllProducts();if(!s.trim())return n;const C=s.toLowerCase(),J={æ°´æœ:"æ°´æœ",è”¬èœ:"è”¬èœ",è°·ç‰©:"è°·ç‰©",è›‹ç±»:"è›‹ç±»",æœé¥°:"æœé¥°"}[s]?.toLowerCase()||"";return n.filter(P=>{const O=P.name.toLowerCase(),A=(P.category||P.categoryName||"")?.toLowerCase()||"";return O.includes(C)||A.includes(C)||A===J})},N=async s=>{m.value=!0,t.value=s;try{$(s);const n=await j(s);o.value=n,s.trim()&&H(s)}catch(n){console.error("æœç´¢å¤±è´¥:",n),o.value=[]}finally{m.value=!1}},b=y(()=>e.value),T=y(()=>v.value),q=y(()=>i.value),B=y(()=>o.value),h=y(()=>t.value),S=y(()=>m.value);return{history:e,hotKeywords:v,suggestions:i,results:o,keyword:t,isLoading:m,getHistory:b,getHotKeywords:T,getSuggestions:q,getResults:B,getKeyword:h,getIsLoading:S,loadHistory:l,addToHistory:H,removeHistory:I,clearHistory:k,searchProducts:N}}),lt={class:"search-container"},rt={class:"search-box"},it={key:0,class:"search-history"},dt={class:"history-tags"},ut=["onClick"],ct=["onClick"],vt={key:1,class:"search-suggestions"},ft=["onClick"],pt=F({__name:"SearchBar",setup(e){const v=X(),i=nt(),o=_(""),t=_(!1),m=_(!1);let l=null;const H=()=>{l&&clearTimeout(l),l=window.setTimeout(()=>{m.value=!0},300)},I=()=>{l&&(clearTimeout(l),l=null),k()},k=()=>{l&&(clearTimeout(l),l=null),o.value.trim()&&(i.addToHistory(o.value),v.push({path:"/search",query:{q:o.value}}))},$=y(()=>i.history),j=y(()=>i.suggestions),N=h=>{o.value=h,k()},b=h=>{i.removeHistory(h)},T=()=>{i.clearHistory()},q=()=>{setTimeout(()=>{t.value=!1,m.value=!1},200)},B=h=>{o.value=h,m.value=!1,k()};return G(()=>{l&&clearTimeout(l)}),(h,S)=>(p(),f("div",lt,[a("div",rt,[Z(a("input",{"onUpdate:modelValue":S[0]||(S[0]=s=>o.value=s),type:"text",placeholder:"æœç´¢å•†å“...",onFocus:S[1]||(S[1]=s=>{t.value=!0,m.value=!0}),onInput:H,onBlur:q,onKeyup:Q(I,["enter"])},null,544),[[K,o.value]]),a("button",{onClick:k,class:"search-btn"},"æœç´¢")]),t.value&&$.value.length?(p(),f("div",it,[a("div",{class:"history-header"},[S[2]||(S[2]=a("span",null,"æœç´¢å†å²",-1)),a("button",{onClick:T},"æ¸…ç©ºæ‰€æœ‰")]),a("div",dt,[(p(!0),f(w,null,M($.value,(s,n)=>(p(),f("span",{key:n,class:"history-tag",onClick:C=>N(s)},[c(x(s)+" ",1),a("span",{class:"delete",onClick:W(C=>b(n),["stop"])},"Ã—",8,ct)],8,ut))),128))])])):R("",!0),m.value&&j.value.length?(p(),f("div",vt,[(p(!0),f(w,null,M(j.value,s=>(p(),f("div",{key:s},[a("span",{onClick:n=>B(s)},x(s),9,ft)]))),128))])):R("",!0)]))}}),mt=L(pt,[["__scopeId","data-v-d136fe0b"]]),gt={class:"app-header"},_t={class:"container"},yt={class:"logo"},ht={class:"app-header-nav"},St={class:"home"},kt={class:"search"},Ct={class:"cart"},Ht={key:0},$t={__name:"LayoutHeader",setup(e){const v=tt(),i=y(()=>v.items.reduce((o,t)=>o+t.quantity,0));return(o,t)=>(p(),f("header",gt,[a("div",_t,[a("h1",yt,[r(d(g),{to:"/"},{default:u(()=>[...t[0]||(t[0]=[c("å°å…”é²œ",-1)])]),_:1})]),a("ul",ht,[a("li",St,[r(d(g),{to:"/"},{default:u(()=>[...t[1]||(t[1]=[c("é¦–é¡µ",-1)])]),_:1})]),a("li",null,[r(d(g),{to:"/"},{default:u(()=>[...t[2]||(t[2]=[c("å±…å®¶",-1)])]),_:1})]),a("li",null,[r(d(g),{to:"/"},{default:u(()=>[...t[3]||(t[3]=[c("ç¾é£Ÿ",-1)])]),_:1})]),a("li",null,[r(d(g),{to:"/"},{default:u(()=>[...t[4]||(t[4]=[c("æœé¥°",-1)])]),_:1})]),a("li",null,[r(d(g),{to:"/"},{default:u(()=>[...t[5]||(t[5]=[c("æ¯å©´",-1)])]),_:1})]),a("li",null,[r(d(g),{to:"/"},{default:u(()=>[...t[6]||(t[6]=[c("æ‰‹æœº",-1)])]),_:1})]),a("li",null,[r(d(g),{to:"/"},{default:u(()=>[...t[7]||(t[7]=[c("ç¾å¦†",-1)])]),_:1})]),a("li",null,[r(d(g),{to:"/"},{default:u(()=>[...t[8]||(t[8]=[c("ç”µè„‘",-1)])]),_:1})]),a("li",null,[r(d(g),{to:"/"},{default:u(()=>[...t[9]||(t[9]=[c("é¥°å“",-1)])]),_:1})]),a("li",null,[r(d(g),{to:"/"},{default:u(()=>[...t[10]||(t[10]=[c("åŒ»è¯",-1)])]),_:1})])]),a("div",kt,[r(mt)]),a("div",Ct,[r(d(g),{to:"/Cart",class:"curr"},{default:u(()=>[t[11]||(t[11]=a("i",{class:"iconfont icon-gouwuche",style:{"font-size":"24px"}},"ğŸ›’",-1)),i.value>0?(p(),f("em",Ht,x(i.value),1)):R("",!0)]),_:1})])])]))}},Bt=L($t,[["__scopeId","data-v-45e31ef9"]]),jt=""+new URL("../images/qrcode-orqZiaKR.jpg",import.meta.url).href,wt={},xt={class:"app_footer"};function Lt(e,v){return p(),f("footer",xt,[...v[0]||(v[0]=[Y('<div class="contact" data-v-48270528><div class="container" data-v-48270528><dl data-v-48270528><dt data-v-48270528>å®¢æˆ·æœåŠ¡</dt><dd data-v-48270528><i class="iconfont icon-kefu" data-v-48270528></i> åœ¨çº¿å®¢æœ</dd><dd data-v-48270528><i class="iconfont icon-question" data-v-48270528></i> é—®é¢˜åé¦ˆ</dd></dl><dl data-v-48270528><dt data-v-48270528>å…³æ³¨æˆ‘ä»¬</dt><dd data-v-48270528><i class="iconfont icon-weixin" data-v-48270528></i> å…¬ä¼—å·</dd><dd data-v-48270528><i class="iconfont icon-weibo" data-v-48270528></i> å¾®åš</dd></dl><dl data-v-48270528><dt data-v-48270528>ä¸‹è½½APP</dt><dd class="qrcode" data-v-48270528><img src="'+jt+'" data-v-48270528></dd><dd class="download" data-v-48270528><span data-v-48270528>æ‰«æäºŒç»´ç </span><span data-v-48270528>ç«‹é©¬ä¸‹è½½APP</span><a href="javascript:;" data-v-48270528>ä¸‹è½½é¡µé¢</a></dd></dl><dl data-v-48270528><dt data-v-48270528>æœåŠ¡çƒ­çº¿</dt><dd class="hotline" data-v-48270528>400-0000-000 <small data-v-48270528>å‘¨ä¸€è‡³å‘¨æ—¥ 8:00-18:00</small></dd></dl></div></div><div class="extra" data-v-48270528><div class="container" data-v-48270528><div class="slogan" data-v-48270528><a href="javascript:;" data-v-48270528><i class="iconfont icon-footer01" data-v-48270528></i><span data-v-48270528>ä»·æ ¼äº²æ°‘</span></a><a href="javascript:;" data-v-48270528><i class="iconfont icon-footer02" data-v-48270528></i><span data-v-48270528>ç‰©æµå¿«æ·</span></a><a href="javascript:;" data-v-48270528><i class="iconfont icon-footer03" data-v-48270528></i><span data-v-48270528>å“è´¨æ–°é²œ</span></a></div><div class="copyright" data-v-48270528><p data-v-48270528><a href="javascript:;" data-v-48270528>å…³äºæˆ‘ä»¬</a><a href="javascript:;" data-v-48270528>å¸®åŠ©ä¸­å¿ƒ</a><a href="javascript:;" data-v-48270528>å”®åæœåŠ¡</a><a href="javascript:;" data-v-48270528>é…é€ä¸éªŒæ”¶</a><a href="javascript:;" data-v-48270528>å•†åŠ¡åˆä½œ</a><a href="javascript:;" data-v-48270528>æœç´¢æ¨è</a><a href="javascript:;" data-v-48270528>å‹æƒ…é“¾æ¥</a></p><p data-v-48270528>vueç”µå•†å¹³å°</p></div></div></div>',2)])])}const Pt=L(wt,[["render",Lt],["__scopeId","data-v-48270528"]]);export{qt as L,Bt as a,Pt as b,nt as u};
