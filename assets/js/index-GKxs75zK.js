import{d as L,c,B as S,w as x,o as B,f as n,e as u,h as s,t as l,F as h,j as m,q as K,g as r,_ as C}from"./index-Bs9ss41J.js";import{u as F,L as N,a as P,S as $,b as A}from"./LayoutFooter-lgGtkTmL.js";import"./user-TVThR-6p.js";import"./productService-BHw07omx.js";import"./cart-B13Zr5XM.js";function p(a){return typeof a=="string"?a:Array.isArray(a)&&a.length>0?a[0]:""}const R={class:"search-header"},T={class:"results-content"},V={key:0,class:"loading-state"},b={key:1,class:"no-results"},j={class:"suggestions"},D={class:"hot-tags"},E=["onClick"],H={key:2},I={class:"results-header"},M={class:"results-count"},Q={class:"product-list"},z=["onClick"],G=["src","alt"],J={class:"product-info"},O={class:"product-name"},U={class:"product-desc"},W={class:"product-price"},X={key:3,class:"initial-state"},Y=L({__name:"index",setup(a){const _=S(),v=K(),i=F(),y=c(()=>p(_.query.q)||i.keyword),d=c(()=>i.results),g=c(()=>i.isLoading),f=c(()=>i.hotKeywords);x(()=>_.query.q,o=>{const t=p(o);t.trim()&&i.searchProducts(t)},{immediate:!0});const k=o=>{v.push({path:"/search",query:{q:o}})},w=o=>{v.push(`/product/${o}`)};return B(()=>{const o=p(_.query.q);o&&i.searchProducts(o)}),(o,t)=>(r(),n(h,null,[u(N),u(P),s("div",R,[u($)]),s("div",T,[g.value?(r(),n("div",V,[...t[0]||(t[0]=[s("div",{class:"spinner"},null,-1),s("p",null,"æ­£åœ¨æœç´¢...",-1)])])):d.value.length===0&&y.value?(r(),n("div",b,[t[2]||(t[2]=s("div",{class:"empty-icon"},"ğŸ”",-1)),s("h3",null,'æ²¡æœ‰æ‰¾åˆ°"'+l(y.value)+'"ç›¸å…³å•†å“',1),t[3]||(t[3]=s("p",null,"è¯·å°è¯•å…¶ä»–å…³é”®è¯",-1)),s("div",j,[t[1]||(t[1]=s("h4",null,"çƒ­é—¨æœç´¢ï¼š",-1)),s("div",D,[(r(!0),n(h,null,m(f.value,e=>(r(),n("span",{key:e,class:"hot-tag",onClick:q=>k(e)},l(e),9,E))),128))])])])):d.value.length>0?(r(),n("div",H,[s("div",I,[t[4]||(t[4]=s("h2",null,"æœç´¢ç»“æœ",-1)),s("p",M,"æ‰¾åˆ° "+l(d.value.length)+" ä¸ªç›¸å…³å•†å“",1)]),s("div",Q,[(r(!0),n(h,null,m(d.value,e=>(r(),n("div",{key:e.id,class:"product-card",onClick:q=>w(e.id)},[s("img",{src:e.picture,alt:e.name,class:"product-image"},null,8,G),s("div",J,[s("h3",O,l(e.name),1),s("p",U,l(e.desc),1),s("div",W,"Â¥"+l(e.price.toFixed(2)),1)])],8,z))),128))])])):(r(),n("div",X,[...t[5]||(t[5]=[s("div",{class:"placeholder-icon"},"ğŸ”",-1),s("p",null,"è¯·è¾“å…¥å…³é”®è¯æœç´¢å•†å“",-1)])]))]),u(A)],64))}}),ns=C(Y,[["__scopeId","data-v-1d0065f6"]]);export{ns as default};
