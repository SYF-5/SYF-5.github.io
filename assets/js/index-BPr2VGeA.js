import{d as q,c as d,D as S,w as K,o as x,f as n,g as s,e as B,t as c,F as v,q as y,v as C,k as r,_ as L}from"./index-BAh_yUva.js";import{u as P,S as $}from"./SearchBar-Ck9-8a1v.js";function _(a){return typeof a=="string"?a:Array.isArray(a)&&a.length>0?a[0]:""}const A={class:"search-results-page"},D={class:"search-header"},F={class:"results-content"},N={key:0,class:"loading-state"},R={key:1,class:"no-results"},T={class:"suggestions"},V={class:"hot-tags"},b=["onClick"],E={key:2},I={class:"results-header"},M={class:"results-count"},Q={class:"product-list"},j=["onClick"],z=["src","alt"],G={class:"product-info"},H={class:"product-name"},J={class:"product-category"},O={class:"product-price"},U={key:3,class:"initial-state"},W=q({__name:"index",setup(a){const u=S(),h=C(),i=P(),p=d(()=>_(u.query.q)||i.keyword),l=d(()=>i.results),g=d(()=>i.isLoading),m=d(()=>i.hotKeywords);K(()=>u.query.q,o=>{const t=_(o);t.trim()&&i.searchProducts(t)},{immediate:!0});const f=o=>{h.push({path:"/search",query:{q:o}})},k=o=>{h.push(`/product/${o}`)};return x(()=>{const o=_(u.query.q);o&&i.searchProducts(o)}),(o,t)=>(r(),n("div",A,[s("div",D,[B($)]),s("div",F,[g.value?(r(),n("div",N,[...t[0]||(t[0]=[s("div",{class:"spinner"},null,-1),s("p",null,"æ­£åœ¨æœç´¢...",-1)])])):l.value.length===0&&p.value?(r(),n("div",R,[t[2]||(t[2]=s("div",{class:"empty-icon"},"ğŸ”",-1)),s("h3",null,'æ²¡æœ‰æ‰¾åˆ°"'+c(p.value)+'"ç›¸å…³å•†å“',1),t[3]||(t[3]=s("p",null,"è¯·å°è¯•å…¶ä»–å…³é”®è¯",-1)),s("div",T,[t[1]||(t[1]=s("h4",null,"çƒ­é—¨æœç´¢ï¼š",-1)),s("div",V,[(r(!0),n(v,null,y(m.value,e=>(r(),n("span",{key:e,class:"hot-tag",onClick:w=>f(e)},c(e),9,b))),128))])])])):l.value.length>0?(r(),n("div",E,[s("div",I,[t[4]||(t[4]=s("h2",null,"æœç´¢ç»“æœ",-1)),s("p",M,"æ‰¾åˆ° "+c(l.value.length)+" ä¸ªç›¸å…³å•†å“",1)]),s("div",Q,[(r(!0),n(v,null,y(l.value,e=>(r(),n("div",{key:e.id,class:"product-card",onClick:w=>k(e.id)},[s("img",{src:e.image,alt:e.name,class:"product-image"},null,8,z),s("div",G,[s("h3",H,c(e.name),1),s("p",J,c(e.category),1),s("div",O,"Â¥"+c(e.price),1)])],8,j))),128))])])):(r(),n("div",U,[...t[5]||(t[5]=[s("div",{class:"placeholder-icon"},"ğŸ”",-1),s("p",null,"è¯·è¾“å…¥å…³é”®è¯æœç´¢å•†å“",-1)])]))])]))}}),Z=L(W,[["__scopeId","data-v-4b0dc4f0"]]);export{Z as default};
