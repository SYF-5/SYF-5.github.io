import{u as U}from"./user-TVThR-6p.js";import{d as F,f as v,h as a,u as d,F as w,m as l,t as x,e as n,p as M,l as r,A as z,g as p,_ as L,D as E,r as _,c as h,i as A,z as G,G as Z,H as K,j as T,q as Q,s as W,I as y,C as X}from"./index-Bs9ss41J.js";import{p as D}from"./productService-BHw07omx.js";import{u as Y}from"./cart-B13Zr5XM.js";const tt={class:"app-topnav"},at={class:"container"},st={href:"javascript:;"},et=F({__name:"LayoutNav",setup(e){const u=U(),i=()=>{u.logout(),z.success("å·²é€€å‡ºç™»å½•")};return(o,t)=>{const f=M("el-popconfirm"),S=M("router-link");return p(),v("nav",tt,[a("div",at,[a("ul",null,[d(u).isLogin?(p(),v(w,{key:0},[a("li",null,[a("a",st,[t[1]||(t[1]=a("i",{class:"iconfont icon-user"},null,-1)),l(x(d(u).userInfo?.account),1)])]),a("li",null,[n(f,{title:"ç¡®è®¤é€€å‡ºå—?","confirm-button-text":"ç¡®è®¤","cancel-button-text":"å–æ¶ˆ",onConfirm:i,"<!--":"",æ·»åŠ ç¡®è®¤é€€å‡ºçš„äº‹ä»¶å¤„ç†:"","--":""},{reference:r(()=>[...t[2]||(t[2]=[a("a",{href:"javascript:;"},"é€€å‡ºç™»å½•",-1)])]),default:r(()=>[t[3]||(t[3]=l(" > ",-1))]),_:1})]),t[5]||(t[5]=a("li",null,[a("a",{href:"javascript:;"},"æˆ‘çš„è®¢å•")],-1)),a("li",null,[n(S,{to:"/Cart"},{default:r(()=>[...t[4]||(t[4]=[l("æˆ‘çš„è´­ç‰©è½¦",-1)])]),_:1})])],64)):(p(),v(w,{key:1},[a("li",null,[a("a",{href:"javascript:;",onClick:t[0]||(t[0]=k=>o.$router.push("/login"))},"è¯·å…ˆç™»å½•")]),t[6]||(t[6]=a("li",null,[a("a",{href:"javascript:;"},"å¸®åŠ©ä¸­å¿ƒ")],-1)),t[7]||(t[7]=a("li",null,[a("a",{href:"javascript:;"},"å…³äºæˆ‘ä»¬")],-1))],64))])])])}}}),Pt=L(et,[["__scopeId","data-v-cc135a03"]]),ot=E("search",()=>{const e=_([]),u=_(["æ‰‹æœº","ç”µè„‘","è€³æœº","é”®ç›˜","è¡£æœ","é‹å­","åŒ…åŒ…","åŒ–å¦†å“","é£Ÿå“","é¥®æ–™","é›¶é£Ÿ","å¹³æ¿"]),i=_([]),o=_([]),t=_(""),f=_(!1),S=()=>{const s=localStorage.getItem("searchHistory");if(s)try{e.value=JSON.parse(s)}catch(c){console.error("è§£ææœç´¢å†å²å¤±è´¥:",c),e.value=[]}},k=s=>{if(!s.trim())return;const c=e.value.indexOf(s);c!==-1&&e.value.splice(c,1),e.value.unshift(s),e.value.length>10&&(e.value=e.value.slice(0,10)),localStorage.setItem("searchHistory",JSON.stringify(e.value))},H=s=>{e.value.splice(s,1),localStorage.setItem("searchHistory",JSON.stringify(e.value))},I=()=>{e.value=[],localStorage.removeItem("searchHistory")},N=s=>{const c=["æ°´æœ","è”¬èœ","è°·ç‰©","è›‹ç±»","æœé¥°","æ‰‹æœº","ç”µè„‘","å¹³æ¿","è€³æœº","è¡£æœ","é‹å­","åŒ…åŒ…","ç¾å¦†","é£Ÿå“","é¥®æ–™","é›¶é£Ÿ"];i.value=c.filter(j=>j.includes(s)).slice(0,5)},b=async s=>{await D.loadAllData();const c=D.getAllProducts();if(!s.trim())return c;const j=s.toLowerCase(),O={æ°´æœ:"fruits",è”¬èœ:"vegetables",è°·ç‰©:"grains",è›‹ç±»:"eggs",æœé¥°:"clothing"}[s]?.toLowerCase()||"";return c.filter(R=>{const J=R.name.toLowerCase(),V=(R.category||R.categoryName||"")?.toLowerCase()||"";return J.includes(j)||V.includes(j)||V===O})},q=async s=>{f.value=!0,t.value=s;try{N(s);const c=await b(s);o.value=c,s.trim()&&k(s)}catch(c){console.error("æœç´¢å¤±è´¥:",c),o.value=[]}finally{f.value=!1}},P=h(()=>e.value),C=h(()=>u.value),m=h(()=>i.value),g=h(()=>o.value),$=h(()=>t.value),B=h(()=>f.value);return{history:e,hotKeywords:u,suggestions:i,results:o,keyword:t,isLoading:f,getHistory:P,getHotKeywords:C,getSuggestions:m,getResults:g,getKeyword:$,getIsLoading:B,loadHistory:S,addToHistory:k,removeHistory:H,clearHistory:I,searchProducts:q}}),nt={class:"search-container"},rt={class:"search-box"},lt={key:0,class:"search-history"},it={class:"history-tags"},dt=["onClick"],ut=["onClick"],ct={key:1,class:"search-suggestions"},vt=["onClick"],pt=F({__name:"SearchBar",setup(e){const u=Q(),i=ot(),o=_(""),t=_(!1),f=_(!1),S=()=>{o.value.trim()&&(i.addToHistory(o.value),u.push({path:"/search",query:{q:o.value}}))},k=h(()=>i.history),H=h(()=>i.suggestions),I=C=>{o.value=C,S()},N=C=>{i.removeHistory(C)},b=()=>{i.clearHistory()},q=()=>{setTimeout(()=>{t.value=!1,f.value=!1},200)},P=C=>{o.value=C,f.value=!1,S()};return(C,m)=>(p(),v("div",nt,[a("div",rt,[G(a("input",{"onUpdate:modelValue":m[0]||(m[0]=g=>o.value=g),type:"text",placeholder:"æœç´¢å•†å“...",onFocus:m[1]||(m[1]=g=>{t.value=!0,f.value=!0}),onInput:m[2]||(m[2]=g=>f.value=!0),onBlur:q,onKeyup:K(S,["enter"])},null,544),[[Z,o.value]]),a("button",{onClick:S,class:"search-btn"},"æœç´¢")]),t.value&&k.value.length?(p(),v("div",lt,[a("div",{class:"history-header"},[m[3]||(m[3]=a("span",null,"æœç´¢å†å²",-1)),a("button",{onClick:b},"æ¸…ç©ºæ‰€æœ‰")]),a("div",it,[(p(!0),v(w,null,T(k.value,(g,$)=>(p(),v("span",{key:$,class:"history-tag",onClick:B=>I(g)},[l(x(g)+" ",1),a("span",{class:"delete",onClick:W(B=>N($),["stop"])},"Ã—",8,ut)],8,dt))),128))])])):A("",!0),f.value&&H.value.length?(p(),v("div",ct,[(p(!0),v(w,null,T(H.value,g=>(p(),v("div",{key:g},[a("span",{onClick:$=>P(g)},x(g),9,vt)]))),128))])):A("",!0)]))}}),ft=L(pt,[["__scopeId","data-v-b19ad4fe"]]),gt={class:"app-header"},yt={class:"container"},mt={class:"logo"},_t={class:"app-header-nav"},ht={class:"home"},St={class:"search"},Ct={class:"cart"},kt={key:0},$t={__name:"LayoutHeader",setup(e){const u=Y(),i=h(()=>u.items.reduce((o,t)=>o+t.quantity,0));return(o,t)=>(p(),v("header",gt,[a("div",yt,[a("h1",mt,[n(d(y),{to:"/"},{default:r(()=>[...t[0]||(t[0]=[l("å°å…”é²œ",-1)])]),_:1})]),a("ul",_t,[a("li",ht,[n(d(y),{to:"/"},{default:r(()=>[...t[1]||(t[1]=[l("é¦–é¡µ",-1)])]),_:1})]),a("li",null,[n(d(y),{to:"/"},{default:r(()=>[...t[2]||(t[2]=[l("å±…å®¶",-1)])]),_:1})]),a("li",null,[n(d(y),{to:"/"},{default:r(()=>[...t[3]||(t[3]=[l("ç¾é£Ÿ",-1)])]),_:1})]),a("li",null,[n(d(y),{to:"/"},{default:r(()=>[...t[4]||(t[4]=[l("æœé¥°",-1)])]),_:1})]),a("li",null,[n(d(y),{to:"/"},{default:r(()=>[...t[5]||(t[5]=[l("æ¯å©´",-1)])]),_:1})]),a("li",null,[n(d(y),{to:"/"},{default:r(()=>[...t[6]||(t[6]=[l("æ‰‹æœº",-1)])]),_:1})]),a("li",null,[n(d(y),{to:"/"},{default:r(()=>[...t[7]||(t[7]=[l("ç¾å¦†",-1)])]),_:1})]),a("li",null,[n(d(y),{to:"/"},{default:r(()=>[...t[8]||(t[8]=[l("ç”µè„‘",-1)])]),_:1})]),a("li",null,[n(d(y),{to:"/"},{default:r(()=>[...t[9]||(t[9]=[l("é¥°å“",-1)])]),_:1})]),a("li",null,[n(d(y),{to:"/"},{default:r(()=>[...t[10]||(t[10]=[l("åŒ»è¯",-1)])]),_:1})])]),a("div",St,[n(ft)]),a("div",Ct,[n(d(y),{to:"/Cart",class:"curr"},{default:r(()=>[t[11]||(t[11]=a("i",{class:"iconfont icon-gouwuche",style:{"font-size":"24px"}},"ğŸ›’",-1)),i.value>0?(p(),v("em",kt,x(i.value),1)):A("",!0)]),_:1})])])]))}},Bt=L($t,[["__scopeId","data-v-45e31ef9"]]),Ht=""+new URL("../images/qrcode-orqZiaKR.jpg",import.meta.url).href,jt={},wt={class:"app_footer"};function xt(e,u){return p(),v("footer",wt,[...u[0]||(u[0]=[X('<div class="contact" data-v-48270528><div class="container" data-v-48270528><dl data-v-48270528><dt data-v-48270528>å®¢æˆ·æœåŠ¡</dt><dd data-v-48270528><i class="iconfont icon-kefu" data-v-48270528></i> åœ¨çº¿å®¢æœ</dd><dd data-v-48270528><i class="iconfont icon-question" data-v-48270528></i> é—®é¢˜åé¦ˆ</dd></dl><dl data-v-48270528><dt data-v-48270528>å…³æ³¨æˆ‘ä»¬</dt><dd data-v-48270528><i class="iconfont icon-weixin" data-v-48270528></i> å…¬ä¼—å·</dd><dd data-v-48270528><i class="iconfont icon-weibo" data-v-48270528></i> å¾®åš</dd></dl><dl data-v-48270528><dt data-v-48270528>ä¸‹è½½APP</dt><dd class="qrcode" data-v-48270528><img src="'+Ht+'" data-v-48270528></dd><dd class="download" data-v-48270528><span data-v-48270528>æ‰«æäºŒç»´ç </span><span data-v-48270528>ç«‹é©¬ä¸‹è½½APP</span><a href="javascript:;" data-v-48270528>ä¸‹è½½é¡µé¢</a></dd></dl><dl data-v-48270528><dt data-v-48270528>æœåŠ¡çƒ­çº¿</dt><dd class="hotline" data-v-48270528>400-0000-000 <small data-v-48270528>å‘¨ä¸€è‡³å‘¨æ—¥ 8:00-18:00</small></dd></dl></div></div><div class="extra" data-v-48270528><div class="container" data-v-48270528><div class="slogan" data-v-48270528><a href="javascript:;" data-v-48270528><i class="iconfont icon-footer01" data-v-48270528></i><span data-v-48270528>ä»·æ ¼äº²æ°‘</span></a><a href="javascript:;" data-v-48270528><i class="iconfont icon-footer02" data-v-48270528></i><span data-v-48270528>ç‰©æµå¿«æ·</span></a><a href="javascript:;" data-v-48270528><i class="iconfont icon-footer03" data-v-48270528></i><span data-v-48270528>å“è´¨æ–°é²œ</span></a></div><div class="copyright" data-v-48270528><p data-v-48270528><a href="javascript:;" data-v-48270528>å…³äºæˆ‘ä»¬</a><a href="javascript:;" data-v-48270528>å¸®åŠ©ä¸­å¿ƒ</a><a href="javascript:;" data-v-48270528>å”®åæœåŠ¡</a><a href="javascript:;" data-v-48270528>é…é€ä¸éªŒæ”¶</a><a href="javascript:;" data-v-48270528>å•†åŠ¡åˆä½œ</a><a href="javascript:;" data-v-48270528>æœç´¢æ¨è</a><a href="javascript:;" data-v-48270528>å‹æƒ…é“¾æ¥</a></p><p data-v-48270528>vueç”µå•†å¹³å°</p></div></div></div>',2)])])}const Rt=L(jt,[["render",xt],["__scopeId","data-v-48270528"]]);export{Pt as L,ft as S,Bt as a,Rt as b,ot as u};
