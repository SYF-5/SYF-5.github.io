import{I as A,y as r,u as j,aW as tt,r as k,c as E,x as i,z as t,aX as et,R as g,J as I,ay as R,aY as G,O as L,l as H,Q as M,P as p,q as B,L as b,ac as D,K as F,aI as W,Y as vt,aZ as pt,C as st,_ as mt,a_ as ft,a$ as gt,aQ as _t}from"./vendor-vue-C53EazzQ.js";import{P as V,Q as U,R as ht,U as yt}from"./vendor-other-MTqSAHyv.js";import{E as bt,a as It,b as $t,c as kt,d as Ct,e as S,f as wt,g as Lt,h as Pt,i as xt}from"./vendor-element-L-g01ONQ.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&n(c)}).observe(document,{childList:!0,subtree:!0});function a(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function n(o){if(o.ep)return;o.ep=!0;const l=a(o);fetch(o.href,l)}})();const P=(s,e)=>{const a=s.__vccOpts||s;for(const[n,o]of e)a[n]=o;return a},Mt={__name:"App",setup(s){return(e,a)=>(r(),A(j(tt)))}},jt=P(Mt,[["__scopeId","data-v-dde09078"]]),Y=V("user",()=>{const s=k(null),e=k(!1),a=k(null),n=E(()=>e.value);return{userInfo:s,isLogin:e,getUserStatus:n,token:a,login:(c,v)=>{s.value=c,a.value=v,e.value=!0},logout:()=>{s.value=null,a.value=null,e.value=!1}}},{persist:{key:"user-store",paths:["userInfo","isLogin","token"],storage:localStorage}}),St={class:"login-header"},Tt={class:"container m-top-20"},Dt={class:"logo"},Et={class:"login-section"},At={class:"wrapper"},Nt={class:"account-box"},qt={class:"form"},Rt={__name:"index",setup(s){const e=G(),a=Y(),n=k({account:"",password:"",agree:!0}),o={account:[{required:!0,message:"ç”¨æˆ·åä¸èƒ½ä¸ºç©º",trigger:"blur"}],password:[{required:!0,message:"å¯†ç ä¸èƒ½ä¸ºç©º",trigger:"blur"},{min:6,max:14,message:"å¯†ç ä¸º6~14ä½",trigger:"blur"}],agree:[{validator:(v,d,h)=>{d?h():h(new Error("è¯·å‹¾é€‰åè®®"))},trigger:"change"}]},l=k(null),c=()=>{l.value.validate(async v=>{if(v)try{const d=`mock-token-${Date.now()}-${Math.random().toString(36).substr(2,9)}`;a.login({id:Date.now(),name:n.value.account,account:n.value.account},d),S.success("ç™»å½•æˆåŠŸï¼"),e.push("/")}catch(d){S.error("ç™»å½•å¤±è´¥ï¼Œè¯·æ£€æŸ¥ç”¨æˆ·åå’Œå¯†ç "),console.error("ç™»å½•å¤±è´¥:",d)}else return S.warning("è¯·æ­£ç¡®å¡«å†™è¡¨å•ä¿¡æ¯"),!1})};return(v,d)=>{const h=R("RouterLink"),$=$t,C=It,_=kt,y=Ct,m=bt;return r(),i("div",null,[t("header",St,[t("div",Tt,[t("h1",Dt,[g(h,{to:"/"},{default:I(()=>[...d[3]||(d[3]=[L("å°å…”é²œ",-1)])]),_:1})]),g(h,{class:"entry",to:"/"},{default:I(()=>[...d[4]||(d[4]=[L(" è¿›å…¥ç½‘ç«™é¦–é¡µ ",-1),t("i",{class:"iconfont icon-angle-right"},null,-1),t("i",{class:"iconfont icon-angle-right"},null,-1)])]),_:1})])]),t("section",Et,[t("div",At,[d[7]||(d[7]=t("nav",null,[t("a",{href:"javascript:;"},"è´¦æˆ·ç™»å½•")],-1)),t("div",Nt,[t("div",qt,[g(m,{ref_key:"formRef",ref:l,model:n.value,rules:o,"label-position":"right","label-width":"60px","status-icon":""},{default:I(()=>[g(C,{prop:"account",label:"è´¦æˆ·"},{default:I(()=>[g($,{modelValue:n.value.account,"onUpdate:modelValue":d[0]||(d[0]=f=>n.value.account=f)},null,8,["modelValue"])]),_:1}),g(C,{prop:"password",label:"å¯†ç "},{default:I(()=>[g($,{modelValue:n.value.password,"onUpdate:modelValue":d[1]||(d[1]=f=>n.value.password=f)},null,8,["modelValue"])]),_:1}),g(C,{prop:"agree","label-width":"22px"},{default:I(()=>[g(_,{size:"large",modelValue:n.value.agree,"onUpdate:modelValue":d[2]||(d[2]=f=>n.value.agree=f)},{default:I(()=>[...d[5]||(d[5]=[L(" æˆ‘å·²åŒæ„éšç§æ¡æ¬¾å’ŒæœåŠ¡æ¡æ¬¾ ",-1)])]),_:1},8,["modelValue"])]),_:1}),g(y,{size:"large",class:"subBtn",onClick:c},{default:I(()=>[...d[6]||(d[6]=[L("ç‚¹å‡»ç™»å½•",-1)])]),_:1})]),_:1},8,["model"])])])])]),d[8]||(d[8]=et('<footer class="login-footer" data-v-447ac3fe><div class="container" data-v-447ac3fe><p data-v-447ac3fe><a href="javascript:;" data-v-447ac3fe>å…³äºæˆ‘ä»¬</a><a href="javascript:;" data-v-447ac3fe>å¸®åŠ©ä¸­å¿ƒ</a><a href="javascript:;" data-v-447ac3fe>å”®åæœåŠ¡</a><a href="javascript:;" data-v-447ac3fe>é…é€ä¸éªŒæ”¶</a><a href="javascript:;" data-v-447ac3fe>å•†åŠ¡åˆä½œ</a><a href="javascript:;" data-v-447ac3fe>æœç´¢æ¨è</a><a href="javascript:;" data-v-447ac3fe>å‹æƒ…é“¾æ¥</a></p><p data-v-447ac3fe>CopyRight Â© å°å…”é²œå„¿</p></div></footer>',1))])}}},Bt=P(Rt,[["__scopeId","data-v-447ac3fe"]]),Qt={class:"app-topnav"},Gt={class:"container"},Zt={href:"javascript:;"},Ot=H({__name:"LayoutNav",setup(s){const e=Y(),a=()=>{e.logout(),S.success("å·²é€€å‡ºç™»å½•")};return(n,o)=>{const l=wt,c=R("router-link");return r(),i("nav",Qt,[t("div",Gt,[t("ul",null,[j(e).isLogin?(r(),i(M,{key:0},[t("li",null,[t("a",Zt,[o[1]||(o[1]=t("i",{class:"iconfont icon-user"},null,-1)),L(p(j(e).userInfo?.account),1)])]),t("li",null,[g(l,{title:"ç¡®è®¤é€€å‡ºå—?","confirm-button-text":"ç¡®è®¤","cancel-button-text":"å–æ¶ˆ",onConfirm:a,"<!--":"",æ·»åŠ ç¡®è®¤é€€å‡ºçš„äº‹ä»¶å¤„ç†:"","--":""},{reference:I(()=>[...o[2]||(o[2]=[t("a",{href:"javascript:;"},"é€€å‡ºç™»å½•",-1)])]),default:I(()=>[o[3]||(o[3]=L(" > ",-1))]),_:1})]),o[5]||(o[5]=t("li",null,[t("a",{href:"javascript:;"},"æˆ‘çš„è®¢å•")],-1)),t("li",null,[g(c,{to:"/Cart"},{default:I(()=>[...o[4]||(o[4]=[L("æˆ‘çš„è´­ç‰©è½¦",-1)])]),_:1})])],64)):(r(),i(M,{key:1},[t("li",null,[t("a",{href:"javascript:;",onClick:o[0]||(o[0]=v=>n.$router.push("/login"))},"è¯·å…ˆç™»å½•")]),o[6]||(o[6]=t("li",null,[t("a",{href:"javascript:;"},"å¸®åŠ©ä¸­å¿ƒ")],-1)),o[7]||(o[7]=t("li",null,[t("a",{href:"javascript:;"},"å…³äºæˆ‘ä»¬")],-1))],64))])])])}}}),Ht=P(Ot,[["__scopeId","data-v-642715b8"]]),Yt={},zt={class:"app-header"},Ft={class:"container"},Wt={class:"logo"},Vt={class:"app-header-nav"},Ut={class:"home"};function Jt(s,e){const a=R("RouterLink"),n=R("router-link");return r(),i("header",zt,[t("div",Ft,[t("h1",Wt,[g(a,{to:"/"},{default:I(()=>[...e[0]||(e[0]=[L("å°å…”é²œ",-1)])]),_:1})]),t("ul",Vt,[t("li",Ut,[g(a,{to:"/"},{default:I(()=>[...e[1]||(e[1]=[L("é¦–é¡µ",-1)])]),_:1})]),t("li",null,[g(a,{to:"/"},{default:I(()=>[...e[2]||(e[2]=[L("å±…å®¶",-1)])]),_:1})]),t("li",null,[g(a,{to:"/"},{default:I(()=>[...e[3]||(e[3]=[L("ç¾é£Ÿ",-1)])]),_:1})]),t("li",null,[g(a,{to:"/"},{default:I(()=>[...e[4]||(e[4]=[L("æœé¥°",-1)])]),_:1})]),t("li",null,[g(a,{to:"/"},{default:I(()=>[...e[5]||(e[5]=[L("æ¯å©´",-1)])]),_:1})]),t("li",null,[g(a,{to:"/"},{default:I(()=>[...e[6]||(e[6]=[L("æ‰‹æœº",-1)])]),_:1})]),t("li",null,[g(a,{to:"/"},{default:I(()=>[...e[7]||(e[7]=[L("ç¾å¦†",-1)])]),_:1})]),t("li",null,[g(a,{to:"/"},{default:I(()=>[...e[8]||(e[8]=[L("ç”µè„‘",-1)])]),_:1})]),t("li",null,[g(a,{to:"/"},{default:I(()=>[...e[9]||(e[9]=[L("é¥°å“",-1)])]),_:1})]),t("li",null,[g(a,{to:"/"},{default:I(()=>[...e[10]||(e[10]=[L("åŒ»è¯",-1)])]),_:1})])]),e[12]||(e[12]=t("div",{class:"search"},[t("i",{class:"iconfont icon-search"}),t("input",{type:"text",placeholder:"æœä¸€æœ"})],-1)),g(n,{to:"/Cart"},{default:I(()=>[...e[11]||(e[11]=[t("i",{class:"iconfont icon-gouwuche",style:{"font-size":"24px"}},null,-1)])]),_:1})])])}const Xt=P(Yt,[["render",Jt],["__scopeId","data-v-56e42bed"]]),Kt="/assets/qrcode-orqZiaKR.jpg",te={},ee={class:"app_footer"};function se(s,e){return r(),i("footer",ee,[...e[0]||(e[0]=[et('<div class="contact" data-v-fc83cb7a><div class="container" data-v-fc83cb7a><dl data-v-fc83cb7a><dt data-v-fc83cb7a>å®¢æˆ·æœåŠ¡</dt><dd data-v-fc83cb7a><i class="iconfont icon-kefu" data-v-fc83cb7a></i> åœ¨çº¿å®¢æœ</dd><dd data-v-fc83cb7a><i class="iconfont icon-question" data-v-fc83cb7a></i> é—®é¢˜åé¦ˆ</dd></dl><dl data-v-fc83cb7a><dt data-v-fc83cb7a>å…³æ³¨æˆ‘ä»¬</dt><dd data-v-fc83cb7a><i class="iconfont icon-weixin" data-v-fc83cb7a></i> å…¬ä¼—å·</dd><dd data-v-fc83cb7a><i class="iconfont icon-weibo" data-v-fc83cb7a></i> å¾®åš</dd></dl><dl data-v-fc83cb7a><dt data-v-fc83cb7a>ä¸‹è½½APP</dt><dd class="qrcode" data-v-fc83cb7a><img src="'+Kt+'" data-v-fc83cb7a></dd><dd class="download" data-v-fc83cb7a><span data-v-fc83cb7a>æ‰«æäºŒç»´ç </span><span data-v-fc83cb7a>ç«‹é©¬ä¸‹è½½APP</span><a href="javascript:;" data-v-fc83cb7a>ä¸‹è½½é¡µé¢</a></dd></dl><dl data-v-fc83cb7a><dt data-v-fc83cb7a>æœåŠ¡çƒ­çº¿</dt><dd class="hotline" data-v-fc83cb7a>400-0000-000 <small data-v-fc83cb7a>å‘¨ä¸€è‡³å‘¨æ—¥ 8:00-18:00</small></dd></dl></div></div><div class="extra" data-v-fc83cb7a><div class="container" data-v-fc83cb7a><div class="slogan" data-v-fc83cb7a><a href="javascript:;" data-v-fc83cb7a><i class="iconfont icon-footer01" data-v-fc83cb7a></i><span data-v-fc83cb7a>ä»·æ ¼äº²æ°‘</span></a><a href="javascript:;" data-v-fc83cb7a><i class="iconfont icon-footer02" data-v-fc83cb7a></i><span data-v-fc83cb7a>ç‰©æµå¿«æ·</span></a><a href="javascript:;" data-v-fc83cb7a><i class="iconfont icon-footer03" data-v-fc83cb7a></i><span data-v-fc83cb7a>å“è´¨æ–°é²œ</span></a></div><div class="copyright" data-v-fc83cb7a><p data-v-fc83cb7a><a href="javascript:;" data-v-fc83cb7a>å…³äºæˆ‘ä»¬</a><a href="javascript:;" data-v-fc83cb7a>å¸®åŠ©ä¸­å¿ƒ</a><a href="javascript:;" data-v-fc83cb7a>å”®åæœåŠ¡</a><a href="javascript:;" data-v-fc83cb7a>é…é€ä¸éªŒæ”¶</a><a href="javascript:;" data-v-fc83cb7a>å•†åŠ¡åˆä½œ</a><a href="javascript:;" data-v-fc83cb7a>æœç´¢æ¨è</a><a href="javascript:;" data-v-fc83cb7a>å‹æƒ…é“¾æ¥</a></p><p data-v-fc83cb7a>vueç”µå•†å¹³å°</p></div></div></div>',2)])])}const ae=P(te,[["render",se],["__scopeId","data-v-fc83cb7a"]]),oe={__name:"index",setup(s){return(e,a)=>(r(),i(M,null,[g(Ht),g(Xt),g(j(tt)),g(ae)],64))}},ne=P(oe,[["__scopeId","data-v-3273831f"]]);class re{constructor(){this.allProducts=[],this.categories=[],this.categoryGoodsMap={},this.loaded=!1,this.productMap={}}async loadAllData(){if(!this.loaded)try{const a=(await U.get("/goods.json")).data;console.log("åŸå§‹æ•°æ®:",a),this.allProducts=[],this.categories=[],this.categoryGoodsMap={},this.productMap={},a.list&&Array.isArray(a.list)&&a.list.forEach(n=>{const o={id:n.id,name:n.name,children:n.children||[]};this.categories.push(o),n.goods&&Array.isArray(n.goods)&&(this.categoryGoodsMap[n.id]=n.goods,n.goods.forEach(l=>{const c={...l,categoryId:n.id,categoryName:n.name,dataSource:"list"};this.productMap[l.id]||(this.allProducts.push(c),this.productMap[l.id]=c)}))}),a.products&&Array.isArray(a.products)&&a.products.forEach(n=>{const o={...n,dataSource:"products"};this.productMap[n.id]||(this.allProducts.push(o),this.productMap[n.id]=o)}),this.loaded=!0,console.log("æ•°æ®åŠ è½½å®Œæˆ",{categories:this.categories.length,totalProducts:this.allProducts.length})}catch(e){console.error("åŠ è½½å•†å“æ•°æ®å¤±è´¥:",e),this.allProducts=[],this.categories=[],this.loaded=!0}}getProductById(e){const a=Number(e);return this.productMap[a]||null}getCategories(){return this.categories}getGoodsByCategoryId(e){return this.categoryGoodsMap[e]||[]}getAllProducts(){return this.allProducts}getNewProducts(){return this.allProducts.filter(e=>e.dataSource==="products")}getProductsByCategoryName(e){const a=this.categories.find(n=>n.name===e);return a?this.getGoodsByCategoryId(a.id):[]}isLoaded(){return this.loaded}}const q=new re,ie={class:"home-category"},le={class:"menu"},ce={key:0,class:"loading"},de=["onClick"],ue={class:"layer"},ve=["onClick"],pe={class:"image-container"},me=["alt","onLoad"],fe={key:0,class:"loading-placeholder"},ge={class:"info"},_e={class:"name ellipsis-2"},he={class:"desc ellipsis"},ye={class:"price"},be={__name:"HomeCategory",setup(s){const e=G(),a=k([]),n=k(!0),o=k({}),l=async()=>{try{n.value=!0,await q.loadAllData();const $=q.getCategories();$&&$.length>0?a.value=$:a.value=[{id:1,name:"å±…å®¶",children:["åºŠä¸Šç”¨å“","å®¶å…·","æ”¶çº³"]}]}catch($){console.error("è·å–åˆ†ç±»æ•°æ®å¤±è´¥:",$),a.value=[{id:1,name:"å±…å®¶",children:["åºŠä¸Šç”¨å“","å®¶å…·"]}]}finally{n.value=!1}},c=($,C,_)=>{console.log(`ç‚¹å‡»äº† ${C} - ${_}`);const y=q.getGoodsByCategoryId($);if(y&&y.length>0){const m=y[0];e.push(`/product/${m.id}`)}else alert("è¯¥åˆ†ç±»ä¸‹æš‚æ— å•†å“")},v=$=>{console.log(`ç‚¹å‡»äº†å•†å“ ID: ${$}`),e.push(`/product/${$}`)},d=$=>{o.value[$]=!0},h=$=>{const C=q.getGoodsByCategoryId($)||[];return C.forEach(_=>{o.value[_.id]||(o.value[_.id]=!1)}),C};return B(()=>{l()}),($,C)=>{const _=R("RouterLink"),y=W("lazy");return r(),i("div",ie,[t("ul",le,[n.value?(r(),i("li",ce," åŠ è½½ä¸­... ")):b("",!0),(r(!0),i(M,null,D(a.value,m=>(r(),i("li",{key:m.id},[g(_,{to:"/category"},{default:I(()=>[L(p(m.name),1)]),_:2},1024),(r(!0),i(M,null,D(m.children,f=>(r(),i("a",{key:f,href:"javascript:;",onClick:T=>c(m.id,m.name,f),class:"sub-category-link"},p(f),9,de))),128)),t("div",ue,[C[1]||(C[1]=t("h4",null,[L("åˆ†ç±»æ¨è "),t("small",null,"æ ¹æ®æ‚¨çš„è´­ä¹°æˆ–æµè§ˆè®°å½•æ¨è")],-1)),t("ul",null,[(r(!0),i(M,null,D(h(m.id),f=>(r(),i("li",{key:f.id},[t("a",{href:"javascript:;",onClick:T=>v(f.id),class:"product-link"},[t("div",pe,[F(t("img",{alt:f.name,onLoad:T=>d(f.id)},null,40,me),[[y,f.picture]]),o.value[f.id]?b("",!0):(r(),i("div",fe))]),t("div",ge,[t("p",_e,p(f.name),1),t("p",he,p(f.desc),1),t("p",ye,[C[0]||(C[0]=t("i",null,"Â¥",-1)),L(p(f.price.toFixed(2)),1)])])],8,ve)]))),128))])])]))),128))])])}}},Ie=P(be,[["__scopeId","data-v-1fa11ada"]]),z=V("cart",{state:()=>({cartItems:[],shipping:0,discount:0}),getters:{totalItems:s=>s.cartItems.reduce((e,a)=>e+a.quantity,0),subtotal:s=>s.cartItems.reduce((e,a)=>e+a.price*a.quantity,0),total(){return this.subtotal+this.shipping-this.discount},isEmpty:s=>s.cartItems.length===0},actions:{loadFromLocalStorage(){try{const s=localStorage.getItem("shopping_cart");if(s){const e=JSON.parse(s);this.cartItems=e.cartItems||[],this.shipping=e.shipping||0,this.discount=e.discount||0}}catch(s){console.error("åŠ è½½è´­ç‰©è½¦æ•°æ®å¤±è´¥:",s),this.cartItems=[]}},saveToLocalStorage(){try{const s={cartItems:this.cartItems,shipping:this.shipping,discount:this.discount,lastUpdated:new Date().toISOString()};localStorage.setItem("shopping_cart",JSON.stringify(s))}catch(s){console.error("ä¿å­˜è´­ç‰©è½¦æ•°æ®å¤±è´¥:",s)}},addToCart(s,e=1){const a=this.cartItems.find(n=>n.id===s.id);if(a){const n=a.quantity+e;if(s.stock&&n>s.stock)throw new Error(`åº“å­˜ä¸è¶³ï¼Œå½“å‰åº“å­˜ä¸º${s.stock}ä»¶`);if(s.maxPurchase&&n>s.maxPurchase)throw new Error(`è¯¥å•†å“æœ€å¤šåªèƒ½è´­ä¹°${s.maxPurchase}ä»¶`);a.quantity=n}else{if(s.stock&&e>s.stock)throw new Error(`åº“å­˜ä¸è¶³ï¼Œå½“å‰åº“å­˜ä¸º${s.stock}ä»¶`);if(s.maxPurchase&&e>s.maxPurchase)throw new Error(`è¯¥å•†å“æœ€å¤šåªèƒ½è´­ä¹°${s.maxPurchase}ä»¶`);this.cartItems.push({...s,quantity:e})}this.saveToLocalStorage()},increaseQuantity(s){const e=this.cartItems.find(a=>a.id===s);if(e){if(e.stock&&e.quantity>=e.stock)throw new Error("åº“å­˜ä¸è¶³ï¼Œæ— æ³•å¢åŠ æ•°é‡");if(e.maxPurchase&&e.quantity>=e.maxPurchase)throw new Error(`è¯¥å•†å“æœ€å¤šåªèƒ½è´­ä¹°${e.maxPurchase}ä»¶`);e.quantity++,this.saveToLocalStorage()}},decreaseQuantity(s){const e=this.cartItems.find(a=>a.id===s);e&&(e.quantity>1?(e.quantity--,this.saveToLocalStorage()):this.removeFromCart(s))},updateQuantity(s,e){const a=this.cartItems.find(n=>n.id===s);if(a){if(e<1){this.removeFromCart(s);return}if(a.stock&&e>a.stock)throw new Error(`åº“å­˜ä¸è¶³ï¼Œå½“å‰åº“å­˜ä¸º${a.stock}ä»¶`);if(a.maxPurchase&&e>a.maxPurchase)throw new Error(`è¯¥å•†å“æœ€å¤šåªèƒ½è´­ä¹°${a.maxPurchase}ä»¶`);a.quantity=e,this.saveToLocalStorage()}},removeFromCart(s){this.cartItems=this.cartItems.filter(e=>e.id!==s),this.saveToLocalStorage()},clearCart(){this.cartItems=[],this.saveToLocalStorage()},isInCart(s){return this.cartItems.some(e=>e.id===s)},getItemQuantity(s){const e=this.cartItems.find(a=>a.id===s);return e?e.quantity:0}}}),$e={class:"goods-image"},ke=["src","alt"],Ce={class:"goods-info"},we={class:"goods-name"},Le={class:"goods-desc"},Pe={class:"goods-price"},xe={class:"price"},Me=["disabled"],je={key:0},Se={key:1,class:"loading-spinner"},Te={__name:"GoodsItem",props:{product:{type:Object,required:!0}},setup(s){const e=s,a=z(),n=G(),o=k(!1),l=async()=>{if(e.product){o.value=!0;try{await a.addToCart(e.product,1),S({message:`"${e.product.name}" å·²æˆåŠŸæ·»åŠ åˆ°è´­ç‰©è½¦`,type:"success",duration:2e3,showClose:!0,offset:80}),console.log(`æˆåŠŸæ·»åŠ  "${e.product.name}" åˆ°è´­ç‰©è½¦`)}catch(v){console.error("æ·»åŠ è´­ç‰©è½¦å¤±è´¥:",v),S({message:"æ·»åŠ å•†å“å¤±è´¥ï¼Œè¯·é‡è¯•",type:"error",duration:2e3,showClose:!0})}finally{o.value=!1}}},c=()=>{n.push(`/product/${e.product.id}`)};return(v,d)=>(r(),i("div",{class:"goods-item",onClick:c},[t("div",$e,[t("img",{src:s.product.picture,alt:s.product.name},null,8,ke)]),t("div",Ce,[t("h3",we,p(s.product.name),1),t("p",Le,p(s.product.description),1),t("div",Pe,[t("span",xe,"Â¥"+p(s.product.price),1),t("button",{class:"add-cart-btn",onClick:vt(l,["stop"]),disabled:o.value},[o.value?(r(),i("span",Se,"â—")):(r(),i("span",je,"+"))],8,Me)])])]))}},De=P(Te,[["__scopeId","data-v-787547c1"]]),Ee="/assets/222-qdFkonWe.jpg",J=U.create({baseURL:"",timeout:1e4});J.interceptors.request.use(s=>{const a=Y().token;return a&&(s.headers.Authorization=`Bearer ${a}`),s},s=>Promise.reject(s));J.interceptors.response.use(s=>s,s=>{if(s.response)switch(s.response.status){case 401:Y().logout(),S.error("ç™»å½•å·²è¿‡æœŸï¼Œè¯·é‡æ–°ç™»å½•"),at.push("/login");break;case 403:S.error("æ‹’ç»è®¿é—®");break;case 404:S.error("è¯·æ±‚èµ„æºä¸å­˜åœ¨");break;case 500:S.error("æœåŠ¡å™¨å†…éƒ¨é”™è¯¯");break;default:S.error(s.response.data?.message||"è¯·æ±‚é”™è¯¯")}else S.error("ç½‘ç»œé”™è¯¯ï¼Œè¯·æ£€æŸ¥ç½‘ç»œè¿æ¥");return Promise.reject(s)});const Ae=V("product",()=>{const s=k([]),e=k(null),a=k(!1),n=k(null);return{productList:s,currentProduct:e,loading:a,error:n,featuredProducts:()=>s.value.slice(0,4),fetchProducts:async()=>{a.value=!0,n.value=null;try{console.log("å¼€å§‹è·å–å•†å“æ•°æ®...");const h=(await J.get("/goods.json")).data;if(console.log("è·å–åˆ°çš„æ•°æ®:",h),h&&h.products)s.value=h.products,console.log("æˆåŠŸè®¾ç½®å•†å“åˆ—è¡¨:",s.value.length);else throw new Error("æ•°æ®æ ¼å¼ä¸æ­£ç¡®: ç¼ºå°‘ products å­—æ®µ")}catch(d){console.error("è·å–å•†å“æ•°æ®å¤±è´¥:",d),n.value="è·å–å•†å“æ•°æ®å¤±è´¥ï¼Œè¯·ç¨åé‡è¯•ã€‚"}finally{a.value=!1}},findProductById:d=>s.value.find(h=>h.id===d),setCurrentProduct:d=>{e.value=d}}}),Ne={class:"home"},qe={class:"category-nav"},Re={class:"category-icon"},Be={class:"category-name"},Qe={key:0,class:"loading-state"},Ge={key:1,class:"error-state"},Ze={class:"product-section"},Oe={class:"products-grid"},He={class:"product-section"},Ye={class:"products-grid"},ze=H({__name:"HomeProduct",setup(s){const e=Ae(),a=z(),n=G(),o=E(()=>e.loading),l=E(()=>e.error),c=E(()=>e.productList),v=E(()=>{const m=e.featuredProducts();return Array.isArray(m)?m:[]}),d=m=>m?.id||Math.random().toString(36).substr(2,9);B(()=>{c.value.length===0&&e.fetchProducts()});const h=["è”¬èœ","æ°´æœ","è‚‰ç±»","ç²®æ²¹","å¥¶åˆ¶å“","é›¶é£Ÿ"],$=m=>({è”¬èœ:"ğŸ¥¬",æ°´æœ:"ğŸ",è‚‰ç±»:"ğŸ¥©",ç²®æ²¹:"ğŸš",å¥¶åˆ¶å“:"ğŸ¥›",é›¶é£Ÿ:"ğŸª"})[m]||"ğŸ›’",C=m=>{e.setCurrentProduct(m),n.push(`/product/${m.id}`)},_=m=>{a.addToCart(m)},y=()=>{e.fetchProducts()};return(m,f)=>{const T=De;return r(),i("div",Ne,[f[3]||(f[3]=t("div",{class:"banner"},[t("img",{src:Ee,alt:"å°å…”é²œä¿ƒé”€æ¨ªå¹…"})],-1)),t("div",qe,[(r(),i(M,null,D(h,x=>t("div",{class:"category-item",key:x},[t("span",Re,p($(x)),1),t("span",Be,p(x),1)])),64))]),o.value?(r(),i("div",Qe,[...f[0]||(f[0]=[t("div",{class:"loading-spinner"},null,-1),t("p",null,"å•†å“åŠ è½½ä¸­...",-1)])])):l.value?(r(),i("div",Ge,[t("p",null,p(l.value),1),t("button",{onClick:y,class:"retry-btn"},"é‡è¯•")])):(r(),i(M,{key:2},[t("div",Ze,[f[1]||(f[1]=t("h2",{class:"section-title"},"æ–°é²œå¥½ç‰©",-1)),t("div",Oe,[(r(!0),i(M,null,D(v.value,x=>(r(),A(T,{key:d(x),product:x,onItemClick:N=>C(x),onAddToCart:N=>_(x)},null,8,["product","onItemClick","onAddToCart"]))),128))])]),t("div",He,[f[2]||(f[2]=t("h2",{class:"section-title"},"çƒ­é—¨å•†å“",-1)),t("div",Ye,[(r(!0),i(M,null,D(c.value.slice(4),x=>(r(),A(T,{key:d(x),product:x,onItemClick:N=>C(x),onAddToCart:N=>_(x)},null,8,["product","onItemClick","onAddToCart"]))),128))])])],64))])}}}),Fe=P(ze,[["__scopeId","data-v-3ad8866d"]]),We={class:"home-banner"},Ve={key:0,class:"loading"},Ue=["src"],Je={__name:"HomeBanner",setup(s){const e=k([]),a=k(!0),n=async()=>{try{a.value=!0;const o=await U.get("/goods.json");o.data.Banner&&o.data.Banner.length>0?e.value=o.data.Banner:e.value=[{picture:"https://bpic.588ku.com/templet_pic/24/07/29/248e4d2449e3c57163547b6ad600487d.jpg!/fw/750/quality/90/unsharp/true/compress/true"},{picture:"https://via.placeholder.com/1224x500/4ecdc4/ffffff?text=Banner2"}]}catch(o){console.error("è·å–è½®æ’­å›¾æ•°æ®å¤±è´¥:",o),e.value=[{picture:"https://bpic.588ku.com/templet_pic/24/07/29/248e4d2449e3c57163547b6ad600487d.jpg!/fw/750/quality/90/unsharp/true/compress/true"}]}finally{a.value=!1}};return B(()=>{n()}),(o,l)=>(r(),i("div",We,[a.value?(r(),i("div",Ve," è½®æ’­å›¾åŠ è½½ä¸­... ")):(r(),A(j(Lt),{key:1,height:"500px",interval:4e3,"indicator-position":"outside"},{default:I(()=>[(r(!0),i(M,null,D(e.value,(c,v)=>(r(),A(j(Pt),{key:v},{default:I(()=>[t("img",{src:c.picture},null,8,Ue)]),_:2},1024))),128))]),_:1}))]))}},Xe=P(Je,[["__scopeId","data-v-7dcf5b6e"]]),Ke={class:"container"},ts={__name:"index",setup(s){return(e,a)=>(r(),i(M,null,[t("div",Ke,[g(Ie),g(Xe)]),g(Fe)],64))}},es={};function ss(s,e){return" æˆ‘æ˜¯åˆ†ç±» "}const as=P(es,[["render",ss]]),os={class:"product-detail-page"},ns={class:"detail-header"},rs={class:"header-actions"},is={key:0,class:"cart-count"},ls={key:0,class:"loading"},cs={key:1,class:"error"},ds={key:2,class:"detail-content"},us={class:"product-gallery"},vs=["alt"],ps={key:0,class:"loading-placeholder"},ms={class:"product-info"},fs={class:"product-title"},gs={class:"product-desc"},_s={class:"price-quantity-section"},hs={class:"price-rating"},ys={class:"current-price"},bs={key:0,class:"product-rating"},Is={class:"rating-value"},$s={class:"quantity-control-wrapper"},ks={class:"quantity-control"},Cs=["disabled"],ws={class:"quantity"},Ls=["disabled"],Ps={key:0,class:"quantity-hint"},xs={key:0,class:"stock-info"},Ms={key:1,class:"success-message"},js={class:"detail-tabs"},Ss=["onClick"],Ts={class:"tab-content"},Ds={key:0},Es={key:1},As={class:"spec-table"},Ns={key:0},qs={key:2},Rs={key:0,class:"review-summary"},Bs={class:"overall-rating"},Qs={class:"rating-score"},Gs={key:3,class:"detail-footer"},Zs=["disabled"],Os={key:0},Hs={key:1},Ys=["disabled"],zs={__name:"index",setup(s){const e=pt(),a=G(),n=z(),o=k({}),l=k(1),c=k("detail"),v=k(!0),d=k(!1),h=k(!1),$=k(!1),C=k(!1),_=[{id:"detail",label:"å•†å“è¯¦æƒ…"},{id:"spec",label:"è§„æ ¼å‚æ•°"},{id:"review",label:"ç”¨æˆ·è¯„ä»·"}],y={vegetables:"è”¬èœ",fruits:"æ°´æœ",grains:"è°·ç‰©",eggs:"è›‹ç±»"},m=E(()=>n.totalItems),f=E(()=>o.value.stock||30),T=()=>{l.value<f.value&&(l.value+=1)},x=()=>{l.value>1&&(l.value-=1)},N=async()=>{if(o.value){h.value=!0;try{await n.addToCart(o.value,l.value),$.value=!0,setTimeout(()=>{$.value=!1},3e3),console.log(`æˆåŠŸæ·»åŠ  ${l.value} ä»¶ "${o.value.name}" åˆ°è´­ç‰©è½¦`)}catch(w){alert(w.message||"æ·»åŠ å•†å“å¤±è´¥ï¼Œè¯·é‡è¯•"),console.error("æ·»åŠ è´­ç‰©è½¦å¤±è´¥:",w)}finally{h.value=!1}}},nt=()=>{N().then(()=>{a.push("/cart")})},rt=()=>{a.push("/cart")},it=w=>y[w]||w,lt=()=>{C.value=!0,console.log("å•†å“å›¾ç‰‡åŠ è½½æˆåŠŸ")},ct=w=>{console.error("å•†å“å›¾ç‰‡åŠ è½½å¤±è´¥:",w),C.value=!0;const u=w.target;u.src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTAwIiBoZWlnaHQ9IjQwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSIjZjBmMGYwIi8+PHRleHQgeD0iNTAlIiB5PSI1MCUiIGZvbnQtc2l6ZT0iMTgiIGZpbGw9IiM5OTk5OTkiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGR5PSIuM2VtIj7lm77niYfpnZ7lu7o8L3RleHQ+PC9zdmc+"},X=w=>w?w.startsWith("http")||w.startsWith("/")||w.startsWith("./")?w:`/${w}`:(console.warn("å›¾ç‰‡è·¯å¾„ä¸ºç©º"),""),dt=async w=>{v.value=!0,d.value=!1,C.value=!1;try{await q.loadAllData();const u=q.getProductById(w);if(u)o.value=u,o.value.maxPurchase=Math.min(o.value.stock||30,30),console.log("åŠ è½½çš„å•†å“æ•°æ®:",o.value),console.log("å•†å“å›¾ç‰‡è·¯å¾„:",o.value.picture),console.log("å¤„ç†åçš„å›¾ç‰‡è·¯å¾„:",X(o.value.picture));else throw new Error("æœªæ‰¾åˆ°è¯¥å•†å“")}catch(u){console.error("åŠ è½½å•†å“å¤±è´¥:",u),d.value=!0}finally{v.value=!1}};return B(()=>{n.loadFromLocalStorage();const w=Number(e.params.id);w?dt(w):(d.value=!0,v.value=!1)}),(w,u)=>{const ut=W("lazy");return r(),i("div",os,[t("header",ns,[t("button",{onClick:u[0]||(u[0]=Q=>w.$router.back()),class:"back-btn"},"â† è¿”å›"),u[4]||(u[4]=t("h1",null,"å•†å“è¯¦æƒ…",-1)),t("div",rs,[u[2]||(u[2]=t("button",null,"åˆ†äº«",-1)),u[3]||(u[3]=t("button",null,"æ”¶è—",-1)),t("div",{class:"cart-indicator",onClick:rt},[u[1]||(u[1]=L(" ğŸ›’ ",-1)),m.value>0?(r(),i("span",is,p(m.value),1)):b("",!0)])])]),v.value?(r(),i("div",ls,[...u[5]||(u[5]=[t("p",null,"æ­£åœ¨åŠ è½½å•†å“ä¿¡æ¯...",-1)])])):b("",!0),d.value?(r(),i("div",cs,[...u[6]||(u[6]=[t("p",null,"åŠ è½½å•†å“ä¿¡æ¯å¤±è´¥ï¼Œè¯·åˆ·æ–°é¡µé¢é‡è¯•",-1)])])):b("",!0),!v.value&&!d.value&&o.value.id?(r(),i("main",ds,[t("div",us,[F(t("img",{alt:o.value.name,class:"main-image",onLoad:lt,onError:ct},null,40,vs),[[ut,X(o.value.picture)]]),C.value?b("",!0):(r(),i("div",ps))]),t("div",ms,[t("h2",fs,p(o.value.name),1),t("p",gs,p(o.value.description||o.value.desc),1),t("div",_s,[t("div",hs,[t("span",ys,"Â¥"+p(o.value.price?.toFixed(2)),1),o.value.rating?(r(),i("div",bs,[u[7]||(u[7]=t("span",{class:"rating-stars"},"â˜…â˜…â˜…â˜…â˜…",-1)),t("span",Is,p(o.value.rating),1)])):b("",!0)]),t("div",$s,[t("div",ks,[t("button",{onClick:x,disabled:l.value<=1},"-",8,Cs),t("span",ws,p(l.value),1),t("button",{onClick:T,disabled:l.value>=f.value},"+",8,Ls)]),l.value>=f.value?(r(),i("div",Ps," å·²è¾¾æœ€å¤§è´­ä¹°æ•°é‡ ")):b("",!0)])]),o.value.stock!==void 0?(r(),i("div",xs," åº“å­˜: "+p(o.value.stock)+"ä»¶ ",1)):b("",!0),$.value?(r(),i("div",Ms," âœ… å•†å“å·²æˆåŠŸæ·»åŠ åˆ°è´­ç‰©è½¦ï¼ ")):b("",!0)]),t("div",js,[(r(),i(M,null,D(_,Q=>t("button",{key:Q.id,class:st(["tab-btn",{active:c.value===Q.id}]),onClick:Oa=>c.value=Q.id},p(Q.label),11,Ss)),64))]),t("div",Ts,[c.value==="detail"?(r(),i("div",Ds,[u[8]||(u[8]=t("h3",null,"å•†å“è¯¦æƒ…",-1)),t("p",null,p(o.value.description||o.value.desc),1),t("p",null,"è¿™æ˜¯ä¸€æ¬¾ä¼˜è´¨çš„"+p(o.value.name)+"ï¼Œä¿è¯å“è´¨ã€‚",1)])):b("",!0),c.value==="spec"?(r(),i("div",Es,[u[14]||(u[14]=t("h3",null,"è§„æ ¼å‚æ•°",-1)),t("table",As,[t("tr",null,[u[9]||(u[9]=t("td",{class:"spec-label"},"å•†å“åç§°",-1)),t("td",null,p(o.value.name),1)]),t("tr",null,[u[10]||(u[10]=t("td",{class:"spec-label"},"å•†å“åˆ†ç±»",-1)),t("td",null,p(it(o.value.category)||o.value.categoryName),1)]),t("tr",null,[u[11]||(u[11]=t("td",{class:"spec-label"},"ä»·æ ¼",-1)),t("td",null,"Â¥"+p(o.value.price?.toFixed(2)),1)]),t("tr",null,[u[12]||(u[12]=t("td",{class:"spec-label"},"åº“å­˜",-1)),t("td",null,p(o.value.stock||10)+"ä»¶",1)]),o.value.rating?(r(),i("tr",Ns,[u[13]||(u[13]=t("td",{class:"spec-label"},"è¯„åˆ†",-1)),t("td",null,p(o.value.rating)+"åˆ†",1)])):b("",!0)])])):b("",!0),c.value==="review"?(r(),i("div",qs,[u[17]||(u[17]=t("h3",null,"ç”¨æˆ·è¯„ä»·",-1)),o.value.rating?(r(),i("div",Rs,[t("div",Bs,[t("span",Qs,p(o.value.rating),1),u[15]||(u[15]=t("div",{class:"rating-stars"},"â˜…â˜…â˜…â˜…â˜…",-1)),u[16]||(u[16]=t("span",{class:"rating-count"},"(æš‚æ— è¯„ä»·)",-1))])])):b("",!0),u[18]||(u[18]=t("div",{class:"no-reviews"},[t("p",null,"æš‚æ— ç”¨æˆ·è¯„ä»·"),t("p",null,"æˆä¸ºç¬¬ä¸€ä¸ªè¯„ä»·æ­¤å•†å“çš„äººå§ï¼")],-1))])):b("",!0)])])):b("",!0),!v.value&&!d.value&&o.value.id?(r(),i("footer",Gs,[t("button",{class:"cart-btn",onClick:N,disabled:h.value},[h.value?(r(),i("span",Hs,"æ·»åŠ ä¸­...")):(r(),i("span",Os,"åŠ å…¥è´­ç‰©è½¦"))],8,Zs),t("button",{class:"buy-btn",onClick:nt,disabled:h.value},[...u[19]||(u[19]=[t("span",null,"ç«‹å³è´­ä¹°",-1)])],8,Ys)])):b("",!0)])}}},K=P(zs,[["__scopeId","data-v-77f5a96c"]]),Fs={class:"cart-item"},Ws={class:"item-image"},Vs={class:"image-container"},Us=["alt"],Js={key:0,class:"loading-placeholder"},Xs={class:"item-details"},Ks={class:"item-name"},ta={key:0,class:"item-category"},ea={class:"item-price"},sa={class:"quantity-control"},aa=["disabled"],oa=["value","max"],na=["disabled"],ra={class:"item-total"},ia={class:"total-price"},la=H({__name:"CartItem",props:{item:{},index:{}},emits:["increase-quantity","decrease-quantity","remove-item","update-quantity"],setup(s){const e=mt({}),a={vegetables:"è”¬èœ",fruits:"æ°´æœ",grains:"è°·ç‰©",eggs:"è›‹ç±»"},n=c=>a[c]||c,o=c=>{e[c]=!0},l=c=>{const v=c.target;v.src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTUwIiBoZWlnaHQ9IjE1MCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSIjZjBmMGYwIi8+PHRleHQgeD0iNTAlIiB5PSI1MCUiIGZvbnQtc2l6ZT0iMTQiIGZpbGw9IiM5OTk5OTkiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGR5PSIuM2VtIj7lm77niYc8L3RleHQ+PC9zdmc+";const d=Object.keys(e).find(h=>e[Number(h)]===!1);d&&(e[Number(d)]=!0)};return B(()=>{}),(c,v)=>{const d=W("lazy");return r(),i("div",Fs,[t("div",Ws,[t("div",Vs,[F(t("img",{alt:s.item.name,onLoad:v[0]||(v[0]=h=>o(s.item.id)),onError:l},null,40,Us),[[d,s.item.picture]]),e[s.item.id]?b("",!0):(r(),i("div",Js))])]),t("div",Xs,[t("h3",Ks,p(s.item.name),1),s.item.category?(r(),i("p",ta,"åˆ†ç±»: "+p(n(s.item.category)),1)):b("",!0),t("p",ea,"å•ä»·: Â¥"+p(s.item.price.toFixed(2)),1)]),t("div",sa,[t("button",{onClick:v[1]||(v[1]=h=>c.$emit("decrease-quantity")),disabled:s.item.quantity<=1},"-",8,aa),t("input",{type:"number",value:s.item.quantity,onInput:v[2]||(v[2]=h=>c.$emit("update-quantity",parseInt(h.target?.value??"0")||1)),min:"1",max:s.item.stock||10},null,40,oa),t("button",{onClick:v[3]||(v[3]=h=>c.$emit("increase-quantity")),disabled:s.item.quantity>=(s.item.stock||10)},"+",8,na)]),t("div",ra,[t("p",ia,"Â¥"+p((s.item.price*s.item.quantity).toFixed(2)),1)]),t("button",{class:"remove-btn",onClick:v[4]||(v[4]=h=>c.$emit("remove-item"))}," åˆ é™¤ ")])}}}),ca=P(la,[["__scopeId","data-v-bea1c7fd"]]),da={name:"CartSummary",props:{subtotal:Number,shipping:Number,discount:Number,total:Number,itemCount:Number,subtotal:{type:Number,required:!0,default:0},shipping:{type:Number,required:!0,default:0},discount:{type:Number,required:!0,default:0},total:{type:Number,required:!0,default:0}},computed:{getItemCount(){return 3}},methods:{handleCheckout(){S({message:"æ”¯ä»˜æˆåŠŸï¼",type:"success",duration:3e3,offset:100}),this.$emit("clear-cart-instant")}}},ua={class:"cart-summary"},va={class:"summary-content"},pa={class:"summary-row"},ma={class:"row-label"},fa={class:"item-count"},ga={class:"row-value"},_a={class:"summary-row"},ha={class:"row-label"},ya={key:0,class:"shipping-info"},ba={key:0,class:"summary-row"},Ia={class:"row-value discount"},$a={class:"summary-row summary-total"},ka={class:"total-value"},Ca={key:1,class:"savings-notice"};function wa(s,e,a,n,o,l){return r(),i("div",ua,[e[8]||(e[8]=t("div",{class:"summary-header"},[t("h3",{class:"summary-title"},"è®¢å•æ‘˜è¦"),t("div",{class:"summary-icon"},"ğŸ“‹")],-1)),t("div",va,[t("div",pa,[t("div",ma,[e[2]||(e[2]=t("span",null,"å•†å“å°è®¡",-1)),t("span",fa,"("+p(l.getItemCount)+"ä»¶å•†å“)",1)]),t("span",ga,"Â¥"+p(a.subtotal.toFixed(2)),1)]),t("div",_a,[t("div",ha,[e[3]||(e[3]=t("span",null,"è¿è´¹",-1)),a.shipping===0?(r(),i("span",ya,"(å…è¿è´¹)")):b("",!0)]),t("span",{class:st(["row-value",{"free-shipping":a.shipping===0}])},p(a.shipping===0?"å…è´¹":`Â¥${a.shipping.toFixed(2)}`),3)]),a.discount>0?(r(),i("div",ba,[e[4]||(e[4]=t("div",{class:"row-label"},[t("span",null,"ä¼˜æƒ "),t("span",{class:"discount-badge"},"å·²ä¼˜æƒ ")],-1)),t("span",Ia,"-Â¥"+p(a.discount.toFixed(2)),1)])):b("",!0),e[6]||(e[6]=t("div",{class:"divider"},null,-1)),t("div",$a,[e[5]||(e[5]=t("span",{class:"total-label"},"è®¢å•æ€»è®¡",-1)),t("span",ka,"Â¥"+p(a.total.toFixed(2)),1)]),a.discount>0?(r(),i("div",Ca," æ‚¨å·²èŠ‚çœ Â¥"+p(a.discount.toFixed(2)),1)):b("",!0)]),t("button",{class:"checkout-btn",onClick:e[1]||(e[1]=(...c)=>l.handleCheckout&&l.handleCheckout(...c))},[t("span",{class:"btn-text",onClick:e[0]||(e[0]=(...c)=>s.clearCart&&s.clearCart(...c))},"å»ç»“ç®—"),e[7]||(e[7]=t("span",{class:"btn-arrow"},"â†’",-1))]),e[9]||(e[9]=t("div",{class:"secure-checkout"},[t("div",{class:"secure-icon"},"ğŸ”’"),t("span",null,"å®‰å…¨ç»“ç®— Â· éšç§ä¿æŠ¤")],-1))])}const La=P(da,[["render",wa],["__scopeId","data-v-42324b97"]]),Pa={name:"EmptyCart"},xa={class:"empty-cart"};function Ma(s,e,a,n,o,l){const c=R("router-link");return r(),i("div",xa,[e[1]||(e[1]=t("img",{src:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyNTYgMjU2Ij48cmVjdCB3aWR0aD0iMjU2IiBoZWlnaHQ9IjI1NiIgZmlsbD0iI2Y1ZjVmNSIvPjxwYXRoIGQ9Ik0xMjgsMzJhOTYsOTYsMCwxLDAsOTYsOTZBOTYuMTEsOTYuMTEsMCwwLDAsMTI4LDMyWm0wLDE2YTgwLDgwLDAsMSwxLTgwLTgwQTgwLjA5LDgwLjA5LDAsMCwxLDEyOCw0OFoiIGZpbGw9IiNkZGQiLz48cGF0aCBkPSJNMTY4LDcySDg4YTgsOCwwLDAsMCwwLDE2aDgwYTgsOCwwLDAsMCwwLTE2WiIgZmlsbD0iI2RkZCIvPjxwYXRoIGQ9Ik0xNzYsMTEySDgwYTgsOCwwLDAsMCwwLDE2aDk2YTgsOCwwLDAsMCwwLTE2WiIgZmlsbD0iI2RkZCIvPjxwYXRoIGQ9Ik0xNjAsMTUySDk2YTgsOCwwLDAsMCwwLDE2aDY0YTgsOCwwLDAsMCwwLTE2WiIgZmlsbD0iI2RkZCIvPjwvc3ZnPg==",alt:"ç©ºè´­ç‰©è½¦"},null,-1)),e[2]||(e[2]=t("h3",null,"æ‚¨çš„è´­ç‰©è½¦æ˜¯ç©ºçš„",-1)),e[3]||(e[3]=t("p",null,"å¿«å»æŒ‘é€‰ä¸€äº›å¿ƒä»ªçš„å•†å“å§",-1)),g(c,{to:"/",class:"continue-shopping"},{default:I(()=>[...e[0]||(e[0]=[L("å‰å¾€è´­ç‰©",-1)])]),_:1})])}const ja=P(Pa,[["render",Ma],["__scopeId","data-v-7ce95bcd"]]),Sa={id:"app"},Ta={class:"container"},Da={class:"header"},Ea={key:0,class:"cart-stats"},Aa={key:0,class:"loading"},Na={key:1,class:"error"},qa={key:2,class:"cart-container"},Ra={class:"cart-items"},Ba=H({__name:"index",setup(s){const e=z(),a=k(!1),n=k(!1),o=_=>{try{e.increaseQuantity(_)}catch(y){alert(y.message)}},l=_=>{try{e.decreaseQuantity(_)}catch(y){alert(y.message)}},c=(_,y)=>{try{e.updateQuantity(_,y)}catch(m){alert(m.message)}},v=_=>{confirm("ç¡®å®šè¦åˆ é™¤è¿™ä¸ªå•†å“å—ï¼Ÿ")&&e.removeFromCart(_)},d=()=>{if(e.isEmpty){alert("è´­ç‰©è½¦å·²ç»æ˜¯ç©ºçš„");return}confirm("ç¡®å®šè¦æ¸…ç©ºè´­ç‰©è½¦å—ï¼Ÿæ­¤æ“ä½œä¸å¯æ’¤é”€ï¼")&&(e.clearCart(),alert("è´­ç‰©è½¦å·²æ¸…ç©º"))},h=()=>{e.clearCart()};B(()=>{a.value=!0;try{e.loadFromLocalStorage(),$()}catch(_){console.error("åŠ è½½è´­ç‰©è½¦æ•°æ®å¤±è´¥:",_),n.value=!0}finally{a.value=!1}});const $=async()=>{for(const _ of e.cartItems)if(!_.picture)try{_.picture=C(_)}catch(y){console.error(`è·å–å•†å“ ${_.id} çš„å›¾ç‰‡å¤±è´¥:`,y),_.picture=C(_)}},C=_=>{const y={vegetables:"https://images.unsplash.com/photo-1540420773420-3366772f4999?w=150",fruits:"https://images.unsplash.com/photo-1568702846914-96b305d2aaeb?w=150",grains:"https://images.unsplash.com/photo-1540189549336-e6e99c3679fe?w=150",eggs:"https://images.unsplash.com/photo-1582722872445-44dc5f7e3c8f?w=150",default:"https://images.unsplash.com/photo-1542838132-92c53300491e?w=150"};return y[_.category]||y.default};return(_,y)=>(r(),i("div",Sa,[t("div",Ta,[t("div",Da,[a.value?b("",!0):(r(),i("div",Ea))]),a.value?(r(),i("div",Aa,[...y[0]||(y[0]=[t("p",null,"æ­£åœ¨åŠ è½½å•†å“ä¿¡æ¯...",-1)])])):b("",!0),n.value?(r(),i("div",Na,[...y[1]||(y[1]=[t("p",null,"åŠ è½½å•†å“ä¿¡æ¯å¤±è´¥ï¼Œè¯·åˆ·æ–°é¡µé¢é‡è¯•",-1)])])):b("",!0),!a.value&&!n.value&&!j(e).isEmpty?(r(),i("div",qa,[t("div",{class:"cart-actions"},[t("button",{class:"clear-cart-btn",onClick:d},"æ¸…ç©ºè´­ç‰©è½¦")]),t("div",Ra,[(r(!0),i(M,null,D(j(e).cartItems,(m,f)=>(r(),A(ca,{key:m.id,item:m,index:f,onIncreaseQuantity:T=>o(m.id),onDecreaseQuantity:T=>l(m.id),onRemoveItem:T=>v(m.id),onUpdateQuantity:T=>c(m.id,T)},null,8,["item","index","onIncreaseQuantity","onDecreaseQuantity","onRemoveItem","onUpdateQuantity"]))),128))]),g(La,{subtotal:j(e).subtotal,shipping:j(e).shipping,discount:j(e).discount,total:j(e).total,onClearCartInstant:h},null,8,["subtotal","shipping","discount","total"])])):b("",!0),!a.value&&!n.value&&j(e).isEmpty?(r(),A(ja,{key:3})):b("",!0)])]))}}),Qa=P(Ba,[["__scopeId","data-v-ce894a28"]]),at=ft({history:gt("/"),routes:[{path:"/",component:ne,children:[{path:"",component:ts},{path:"category",component:as},{path:"cart",component:Qa},{path:"product/:id",component:K,props:!0}]},{path:"/login",component:Bt},{path:"/product/:id",component:K,props:!0}]}),O=new Map,Ga={mounted(s,e){const{value:a}=e;s.style.backgroundColor="#f5f5f5",s.style.opacity="0.7",s.style.transition="opacity 0.3s ease";const n=new IntersectionObserver(o=>{o.forEach(l=>{if(l.isIntersecting){const c=new Image;c.src=a,c.onload=()=>{s.src=a,s.style.opacity="1",s.style.backgroundColor="transparent",s.dispatchEvent(new Event("load"))},c.onerror=()=>{s.dispatchEvent(new Event("error")),s.style.opacity="1"},n.unobserve(s),O.delete(s)}})},{rootMargin:"50px 0px",threshold:.1});n.observe(s),O.set(s,n)},unmounted(s){const e=O.get(s);e&&(e.unobserve(s),O.delete(s))}},Za=s=>{s.directive("lazy",Ga)},ot=ht(),Z=_t(jt);ot.use(yt);Z.use(xt);Z.use(ot);Z.use(at);Za(Z);Z.mount("#app");
