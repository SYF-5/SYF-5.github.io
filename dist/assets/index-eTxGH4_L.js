import{I as E,y as r,u as x,aU as K,r as k,c as A,x as l,z as t,aV as tt,R as _,J as I,ax as Z,aW as G,O as L,l as z,Q as j,P as v,q as R,L as b,ac as T,K as W,aH as Y,Y as ut,aX as pt,C as et,_ as vt,aY as mt,aZ as ft,aO as _t}from"./vendor-vue-3bll87uX.js";import{p as V,q as F,r as gt,t as ht}from"./vendor-other-DYmfRs34.js";import{E as yt,a as bt,b as It,c as $t,d as kt,e as S,f as Ct,g as wt,h as Lt,i as Pt}from"./vendor-element-J_rJnXc9.js";import"./vendor-utils-D_V24Ga1.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const d of o)if(d.type==="childList")for(const i of d.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function s(o){const d={};return o.integrity&&(d.integrity=o.integrity),o.referrerPolicy&&(d.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?d.credentials="include":o.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function n(o){if(o.ep)return;o.ep=!0;const d=s(o);fetch(o.href,d)}})();const P=(a,e)=>{const s=a.__vccOpts||a;for(const[n,o]of e)s[n]=o;return s},Mt={__name:"App",setup(a){return(e,s)=>(r(),E(x(K)))}},jt=P(Mt,[["__scopeId","data-v-dde09078"]]),H=V("user",()=>{const a=k(null),e=k(!1),s=k(null),n=A(()=>e.value);return{userInfo:a,isLogin:e,getUserStatus:n,token:s,login:(i,p)=>{a.value=i,s.value=p,e.value=!0},logout:()=>{a.value=null,s.value=null,e.value=!1}}},{persist:{key:"user-store",paths:["userInfo","isLogin","token"],storage:localStorage}}),xt={class:"login-header"},St={class:"container m-top-20"},Dt={class:"logo"},Tt={class:"login-section"},At={class:"wrapper"},Et={class:"account-box"},Bt={class:"form"},Nt={__name:"index",setup(a){const e=G(),s=H(),n=k({account:"",password:"",agree:!0}),o={account:[{required:!0,message:"ç”¨æˆ·åä¸èƒ½ä¸ºç©º",trigger:"blur"}],password:[{required:!0,message:"å¯†ç ä¸èƒ½ä¸ºç©º",trigger:"blur"},{min:6,max:14,message:"å¯†ç ä¸º6~14ä½",trigger:"blur"}],agree:[{validator:(p,c,h)=>{c?h():h(new Error("è¯·å‹¾é€‰åè®®"))},trigger:"change"}]},d=k(null),i=()=>{d.value.validate(async p=>{if(p)try{const c=`mock-token-${Date.now()}-${Math.random().toString(36).substr(2,9)}`;s.login({id:Date.now(),name:n.value.account,account:n.value.account},c),S.success("ç™»å½•æˆåŠŸï¼"),e.push("/")}catch(c){S.error("ç™»å½•å¤±è´¥ï¼Œè¯·æ£€æŸ¥ç”¨æˆ·åå’Œå¯†ç "),console.error("ç™»å½•å¤±è´¥:",c)}else return S.warning("è¯·æ­£ç¡®å¡«å†™è¡¨å•ä¿¡æ¯"),!1})};return(p,c)=>{const h=Z("RouterLink"),$=It,C=bt,g=$t,y=kt,m=yt;return r(),l("div",null,[t("header",xt,[t("div",St,[t("h1",Dt,[_(h,{to:"/"},{default:I(()=>c[3]||(c[3]=[L("å°å…”é²œ",-1)])),_:1,__:[3]})]),_(h,{class:"entry",to:"/"},{default:I(()=>c[4]||(c[4]=[L(" è¿›å…¥ç½‘ç«™é¦–é¡µ ",-1),t("i",{class:"iconfont icon-angle-right"},null,-1),t("i",{class:"iconfont icon-angle-right"},null,-1)])),_:1,__:[4]})])]),t("section",Tt,[t("div",At,[c[7]||(c[7]=t("nav",null,[t("a",{href:"javascript:;"},"è´¦æˆ·ç™»å½•")],-1)),t("div",Et,[t("div",Bt,[_(m,{ref_key:"formRef",ref:d,model:n.value,rules:o,"label-position":"right","label-width":"60px","status-icon":""},{default:I(()=>[_(C,{prop:"account",label:"è´¦æˆ·"},{default:I(()=>[_($,{modelValue:n.value.account,"onUpdate:modelValue":c[0]||(c[0]=f=>n.value.account=f)},null,8,["modelValue"])]),_:1}),_(C,{prop:"password",label:"å¯†ç "},{default:I(()=>[_($,{modelValue:n.value.password,"onUpdate:modelValue":c[1]||(c[1]=f=>n.value.password=f)},null,8,["modelValue"])]),_:1}),_(C,{prop:"agree","label-width":"22px"},{default:I(()=>[_(g,{size:"large",modelValue:n.value.agree,"onUpdate:modelValue":c[2]||(c[2]=f=>n.value.agree=f)},{default:I(()=>c[5]||(c[5]=[L(" æˆ‘å·²åŒæ„éšç§æ¡æ¬¾å’ŒæœåŠ¡æ¡æ¬¾ ",-1)])),_:1,__:[5]},8,["modelValue"])]),_:1}),_(y,{size:"large",class:"subBtn",onClick:i},{default:I(()=>c[6]||(c[6]=[L("ç‚¹å‡»ç™»å½•",-1)])),_:1,__:[6]})]),_:1},8,["model"])])])])]),c[8]||(c[8]=tt('<footer class="login-footer" data-v-447ac3fe><div class="container" data-v-447ac3fe><p data-v-447ac3fe><a href="javascript:;" data-v-447ac3fe>å…³äºæˆ‘ä»¬</a><a href="javascript:;" data-v-447ac3fe>å¸®åŠ©ä¸­å¿ƒ</a><a href="javascript:;" data-v-447ac3fe>å”®åæœåŠ¡</a><a href="javascript:;" data-v-447ac3fe>é…é€ä¸éªŒæ”¶</a><a href="javascript:;" data-v-447ac3fe>å•†åŠ¡åˆä½œ</a><a href="javascript:;" data-v-447ac3fe>æœç´¢æ¨è</a><a href="javascript:;" data-v-447ac3fe>å‹æƒ…é“¾æ¥</a></p><p data-v-447ac3fe>CopyRight Â© å°å…”é²œå„¿</p></div></footer>',1))])}}},Zt=P(Nt,[["__scopeId","data-v-447ac3fe"]]),Rt={class:"app-topnav"},qt={class:"container"},Gt={href:"javascript:;"},Qt=z({__name:"LayoutNav",setup(a){const e=H(),s=()=>{e.logout(),S.success("å·²é€€å‡ºç™»å½•")};return(n,o)=>{const d=Ct,i=Z("router-link");return r(),l("nav",Rt,[t("div",qt,[t("ul",null,[x(e).isLogin?(r(),l(j,{key:0},[t("li",null,[t("a",Gt,[o[1]||(o[1]=t("i",{class:"iconfont icon-user"},null,-1)),L(v(x(e).userInfo?.account),1)])]),t("li",null,[_(d,{title:"ç¡®è®¤é€€å‡ºå—?","confirm-button-text":"ç¡®è®¤","cancel-button-text":"å–æ¶ˆ",onConfirm:s,"<!--":"",æ·»åŠ ç¡®è®¤é€€å‡ºçš„äº‹ä»¶å¤„ç†:"","--":""},{reference:I(()=>o[2]||(o[2]=[t("a",{href:"javascript:;"},"é€€å‡ºç™»å½•",-1)])),default:I(()=>[o[3]||(o[3]=L(" > ",-1))]),_:1,__:[3]})]),o[5]||(o[5]=t("li",null,[t("a",{href:"javascript:;"},"æˆ‘çš„è®¢å•")],-1)),t("li",null,[_(i,{to:"/Cart"},{default:I(()=>o[4]||(o[4]=[L("æˆ‘çš„è´­ç‰©è½¦",-1)])),_:1,__:[4]})])],64)):(r(),l(j,{key:1},[t("li",null,[t("a",{href:"javascript:;",onClick:o[0]||(o[0]=p=>n.$router.push("/login"))},"è¯·å…ˆç™»å½•")]),o[6]||(o[6]=t("li",null,[t("a",{href:"javascript:;"},"å¸®åŠ©ä¸­å¿ƒ")],-1)),o[7]||(o[7]=t("li",null,[t("a",{href:"javascript:;"},"å…³äºæˆ‘ä»¬")],-1))],64))])])])}}}),zt=P(Qt,[["__scopeId","data-v-642715b8"]]),Ht={},Ot={class:"app-header"},Wt={class:"container"},Yt={class:"logo"},Vt={class:"app-header-nav"},Ft={class:"home"};function Ut(a,e){const s=Z("RouterLink"),n=Z("router-link");return r(),l("header",Ot,[t("div",Wt,[t("h1",Yt,[_(s,{to:"/"},{default:I(()=>e[0]||(e[0]=[L("å°å…”é²œ",-1)])),_:1,__:[0]})]),t("ul",Vt,[t("li",Ft,[_(s,{to:"/"},{default:I(()=>e[1]||(e[1]=[L("é¦–é¡µ",-1)])),_:1,__:[1]})]),t("li",null,[_(s,{to:"/"},{default:I(()=>e[2]||(e[2]=[L("å±…å®¶",-1)])),_:1,__:[2]})]),t("li",null,[_(s,{to:"/"},{default:I(()=>e[3]||(e[3]=[L("ç¾é£Ÿ",-1)])),_:1,__:[3]})]),t("li",null,[_(s,{to:"/"},{default:I(()=>e[4]||(e[4]=[L("æœé¥°",-1)])),_:1,__:[4]})]),t("li",null,[_(s,{to:"/"},{default:I(()=>e[5]||(e[5]=[L("æ¯å©´",-1)])),_:1,__:[5]})]),t("li",null,[_(s,{to:"/"},{default:I(()=>e[6]||(e[6]=[L("æ‰‹æœº",-1)])),_:1,__:[6]})]),t("li",null,[_(s,{to:"/"},{default:I(()=>e[7]||(e[7]=[L("ç¾å¦†",-1)])),_:1,__:[7]})]),t("li",null,[_(s,{to:"/"},{default:I(()=>e[8]||(e[8]=[L("ç”µè„‘",-1)])),_:1,__:[8]})]),t("li",null,[_(s,{to:"/"},{default:I(()=>e[9]||(e[9]=[L("é¥°å“",-1)])),_:1,__:[9]})]),t("li",null,[_(s,{to:"/"},{default:I(()=>e[10]||(e[10]=[L("åŒ»è¯",-1)])),_:1,__:[10]})])]),e[12]||(e[12]=t("div",{class:"search"},[t("i",{class:"iconfont icon-search"}),t("input",{type:"text",placeholder:"æœä¸€æœ"})],-1)),_(n,{to:"/Cart"},{default:I(()=>e[11]||(e[11]=[t("i",{class:"iconfont icon-gouwuche",style:{"font-size":"24px"}},null,-1)])),_:1,__:[11]})])])}const Jt=P(Ht,[["render",Ut],["__scopeId","data-v-56e42bed"]]),Xt="/assets/qrcode-orqZiaKR.jpg",Kt={},te={class:"app_footer"};function ee(a,e){return r(),l("footer",te,e[0]||(e[0]=[tt('<div class="contact" data-v-fc83cb7a><div class="container" data-v-fc83cb7a><dl data-v-fc83cb7a><dt data-v-fc83cb7a>å®¢æˆ·æœåŠ¡</dt><dd data-v-fc83cb7a><i class="iconfont icon-kefu" data-v-fc83cb7a></i> åœ¨çº¿å®¢æœ</dd><dd data-v-fc83cb7a><i class="iconfont icon-question" data-v-fc83cb7a></i> é—®é¢˜åé¦ˆ</dd></dl><dl data-v-fc83cb7a><dt data-v-fc83cb7a>å…³æ³¨æˆ‘ä»¬</dt><dd data-v-fc83cb7a><i class="iconfont icon-weixin" data-v-fc83cb7a></i> å…¬ä¼—å·</dd><dd data-v-fc83cb7a><i class="iconfont icon-weibo" data-v-fc83cb7a></i> å¾®åš</dd></dl><dl data-v-fc83cb7a><dt data-v-fc83cb7a>ä¸‹è½½APP</dt><dd class="qrcode" data-v-fc83cb7a><img src="'+Xt+'" data-v-fc83cb7a></dd><dd class="download" data-v-fc83cb7a><span data-v-fc83cb7a>æ‰«æäºŒç»´ç </span><span data-v-fc83cb7a>ç«‹é©¬ä¸‹è½½APP</span><a href="javascript:;" data-v-fc83cb7a>ä¸‹è½½é¡µé¢</a></dd></dl><dl data-v-fc83cb7a><dt data-v-fc83cb7a>æœåŠ¡çƒ­çº¿</dt><dd class="hotline" data-v-fc83cb7a>400-0000-000 <small data-v-fc83cb7a>å‘¨ä¸€è‡³å‘¨æ—¥ 8:00-18:00</small></dd></dl></div></div><div class="extra" data-v-fc83cb7a><div class="container" data-v-fc83cb7a><div class="slogan" data-v-fc83cb7a><a href="javascript:;" data-v-fc83cb7a><i class="iconfont icon-footer01" data-v-fc83cb7a></i><span data-v-fc83cb7a>ä»·æ ¼äº²æ°‘</span></a><a href="javascript:;" data-v-fc83cb7a><i class="iconfont icon-footer02" data-v-fc83cb7a></i><span data-v-fc83cb7a>ç‰©æµå¿«æ·</span></a><a href="javascript:;" data-v-fc83cb7a><i class="iconfont icon-footer03" data-v-fc83cb7a></i><span data-v-fc83cb7a>å“è´¨æ–°é²œ</span></a></div><div class="copyright" data-v-fc83cb7a><p data-v-fc83cb7a><a href="javascript:;" data-v-fc83cb7a>å…³äºæˆ‘ä»¬</a><a href="javascript:;" data-v-fc83cb7a>å¸®åŠ©ä¸­å¿ƒ</a><a href="javascript:;" data-v-fc83cb7a>å”®åæœåŠ¡</a><a href="javascript:;" data-v-fc83cb7a>é…é€ä¸éªŒæ”¶</a><a href="javascript:;" data-v-fc83cb7a>å•†åŠ¡åˆä½œ</a><a href="javascript:;" data-v-fc83cb7a>æœç´¢æ¨è</a><a href="javascript:;" data-v-fc83cb7a>å‹æƒ…é“¾æ¥</a></p><p data-v-fc83cb7a>vueç”µå•†å¹³å°</p></div></div></div>',2)]))}const se=P(Kt,[["render",ee],["__scopeId","data-v-fc83cb7a"]]),ae={__name:"index",setup(a){return(e,s)=>(r(),l(j,null,[_(zt),_(Jt),_(x(K)),_(se)],64))}},oe=P(ae,[["__scopeId","data-v-3273831f"]]);class ne{constructor(){this.allProducts=[],this.categories=[],this.categoryGoodsMap={},this.loaded=!1,this.productMap={}}async loadAllData(){if(!this.loaded)try{const s=(await F.get("/goods.json")).data;console.log("åŸå§‹æ•°æ®:",s),this.allProducts=[],this.categories=[],this.categoryGoodsMap={},this.productMap={},s.list&&Array.isArray(s.list)&&s.list.forEach(n=>{const o={id:n.id,name:n.name,children:n.children||[]};this.categories.push(o),n.goods&&Array.isArray(n.goods)&&(this.categoryGoodsMap[n.id]=n.goods,n.goods.forEach(d=>{const i={...d,categoryId:n.id,categoryName:n.name,dataSource:"list"};this.productMap[d.id]||(this.allProducts.push(i),this.productMap[d.id]=i)}))}),s.products&&Array.isArray(s.products)&&s.products.forEach(n=>{const o={...n,dataSource:"products"};this.productMap[n.id]||(this.allProducts.push(o),this.productMap[n.id]=o)}),this.loaded=!0,console.log("æ•°æ®åŠ è½½å®Œæˆ",{categories:this.categories.length,totalProducts:this.allProducts.length})}catch(e){console.error("åŠ è½½å•†å“æ•°æ®å¤±è´¥:",e),this.allProducts=[],this.categories=[],this.loaded=!0}}getProductById(e){const s=Number(e);return this.productMap[s]||null}getCategories(){return this.categories}getGoodsByCategoryId(e){return this.categoryGoodsMap[e]||[]}getAllProducts(){return this.allProducts}getNewProducts(){return this.allProducts.filter(e=>e.dataSource==="products")}getProductsByCategoryName(e){const s=this.categories.find(n=>n.name===e);return s?this.getGoodsByCategoryId(s.id):[]}isLoaded(){return this.loaded}}const N=new ne,re={class:"home-category"},ie={class:"menu"},le={key:0,class:"loading"},ce=["onClick"],de={class:"layer"},ue=["onClick"],pe={class:"image-container"},ve=["alt","onLoad"],me={key:0,class:"loading-placeholder"},fe={class:"info"},_e={class:"name ellipsis-2"},ge={class:"desc ellipsis"},he={class:"price"},ye={__name:"HomeCategory",setup(a){const e=G(),s=k([]),n=k(!0),o=k({}),d=async()=>{try{n.value=!0,await N.loadAllData();const $=N.getCategories();$&&$.length>0?s.value=$:s.value=[{id:1,name:"å±…å®¶",children:["åºŠä¸Šç”¨å“","å®¶å…·","æ”¶çº³"]}]}catch($){console.error("è·å–åˆ†ç±»æ•°æ®å¤±è´¥:",$),s.value=[{id:1,name:"å±…å®¶",children:["åºŠä¸Šç”¨å“","å®¶å…·"]}]}finally{n.value=!1}},i=($,C,g)=>{console.log(`ç‚¹å‡»äº† ${C} - ${g}`);const y=N.getGoodsByCategoryId($);if(y&&y.length>0){const m=y[0];e.push(`/product/${m.id}`)}else alert("è¯¥åˆ†ç±»ä¸‹æš‚æ— å•†å“")},p=$=>{console.log(`ç‚¹å‡»äº†å•†å“ ID: ${$}`),e.push(`/product/${$}`)},c=$=>{o.value[$]=!0},h=$=>{const C=N.getGoodsByCategoryId($)||[];return C.forEach(g=>{o.value[g.id]||(o.value[g.id]=!1)}),C};return R(()=>{d()}),($,C)=>{const g=Z("RouterLink"),y=Y("lazy");return r(),l("div",re,[t("ul",ie,[n.value?(r(),l("li",le," åŠ è½½ä¸­... ")):b("",!0),(r(!0),l(j,null,T(s.value,m=>(r(),l("li",{key:m.id},[_(g,{to:"/category"},{default:I(()=>[L(v(m.name),1)]),_:2},1024),(r(!0),l(j,null,T(m.children,f=>(r(),l("a",{key:f,href:"javascript:;",onClick:D=>i(m.id,m.name,f),class:"sub-category-link"},v(f),9,ce))),128)),t("div",de,[C[1]||(C[1]=t("h4",null,[L("åˆ†ç±»æ¨è "),t("small",null,"æ ¹æ®æ‚¨çš„è´­ä¹°æˆ–æµè§ˆè®°å½•æ¨è")],-1)),t("ul",null,[(r(!0),l(j,null,T(h(m.id),f=>(r(),l("li",{key:f.id},[t("a",{href:"javascript:;",onClick:D=>p(f.id),class:"product-link"},[t("div",pe,[W(t("img",{alt:f.name,onLoad:D=>c(f.id)},null,40,ve),[[y,f.picture]]),o.value[f.id]?b("",!0):(r(),l("div",me))]),t("div",fe,[t("p",_e,v(f.name),1),t("p",ge,v(f.desc),1),t("p",he,[C[0]||(C[0]=t("i",null,"Â¥",-1)),L(v(f.price.toFixed(2)),1)])])],8,ue)]))),128))])])]))),128))])])}}},be=P(ye,[["__scopeId","data-v-1fa11ada"]]),O=V("cart",{state:()=>({cartItems:[],shipping:0,discount:0}),getters:{totalItems:a=>a.cartItems.reduce((e,s)=>e+s.quantity,0),subtotal:a=>a.cartItems.reduce((e,s)=>e+s.price*s.quantity,0),total(){return this.subtotal+this.shipping-this.discount},isEmpty:a=>a.cartItems.length===0},actions:{loadFromLocalStorage(){try{const a=localStorage.getItem("shopping_cart");if(a){const e=JSON.parse(a);this.cartItems=e.cartItems||[],this.shipping=e.shipping||0,this.discount=e.discount||0}}catch(a){console.error("åŠ è½½è´­ç‰©è½¦æ•°æ®å¤±è´¥:",a),this.cartItems=[]}},saveToLocalStorage(){try{const a={cartItems:this.cartItems,shipping:this.shipping,discount:this.discount,lastUpdated:new Date().toISOString()};localStorage.setItem("shopping_cart",JSON.stringify(a))}catch(a){console.error("ä¿å­˜è´­ç‰©è½¦æ•°æ®å¤±è´¥:",a)}},addToCart(a,e=1){const s=this.cartItems.find(n=>n.id===a.id);if(s){const n=s.quantity+e;if(a.stock&&n>a.stock)throw new Error(`åº“å­˜ä¸è¶³ï¼Œå½“å‰åº“å­˜ä¸º${a.stock}ä»¶`);if(a.maxPurchase&&n>a.maxPurchase)throw new Error(`è¯¥å•†å“æœ€å¤šåªèƒ½è´­ä¹°${a.maxPurchase}ä»¶`);s.quantity=n}else{if(a.stock&&e>a.stock)throw new Error(`åº“å­˜ä¸è¶³ï¼Œå½“å‰åº“å­˜ä¸º${a.stock}ä»¶`);if(a.maxPurchase&&e>a.maxPurchase)throw new Error(`è¯¥å•†å“æœ€å¤šåªèƒ½è´­ä¹°${a.maxPurchase}ä»¶`);this.cartItems.push({...a,quantity:e})}this.saveToLocalStorage()},increaseQuantity(a){const e=this.cartItems.find(s=>s.id===a);if(e){if(e.stock&&e.quantity>=e.stock)throw new Error("åº“å­˜ä¸è¶³ï¼Œæ— æ³•å¢åŠ æ•°é‡");if(e.maxPurchase&&e.quantity>=e.maxPurchase)throw new Error(`è¯¥å•†å“æœ€å¤šåªèƒ½è´­ä¹°${e.maxPurchase}ä»¶`);e.quantity++,this.saveToLocalStorage()}},decreaseQuantity(a){const e=this.cartItems.find(s=>s.id===a);e&&(e.quantity>1?(e.quantity--,this.saveToLocalStorage()):this.removeFromCart(a))},updateQuantity(a,e){const s=this.cartItems.find(n=>n.id===a);if(s){if(e<1){this.removeFromCart(a);return}if(s.stock&&e>s.stock)throw new Error(`åº“å­˜ä¸è¶³ï¼Œå½“å‰åº“å­˜ä¸º${s.stock}ä»¶`);if(s.maxPurchase&&e>s.maxPurchase)throw new Error(`è¯¥å•†å“æœ€å¤šåªèƒ½è´­ä¹°${s.maxPurchase}ä»¶`);s.quantity=e,this.saveToLocalStorage()}},removeFromCart(a){this.cartItems=this.cartItems.filter(e=>e.id!==a),this.saveToLocalStorage()},clearCart(){this.cartItems=[],this.saveToLocalStorage()},isInCart(a){return this.cartItems.some(e=>e.id===a)},getItemQuantity(a){const e=this.cartItems.find(s=>s.id===a);return e?e.quantity:0}}}),Ie={class:"goods-image"},$e=["src","alt"],ke={class:"goods-info"},Ce={class:"goods-name"},we={class:"goods-desc"},Le={class:"goods-price"},Pe={class:"price"},Me=["disabled"],je={key:0},xe={key:1,class:"loading-spinner"},Se={__name:"GoodsItem",props:{product:{type:Object,required:!0}},setup(a){const e=a,s=O(),n=G(),o=k(!1),d=async()=>{if(e.product){o.value=!0;try{await s.addToCart(e.product,1),S({message:`"${e.product.name}" å·²æˆåŠŸæ·»åŠ åˆ°è´­ç‰©è½¦`,type:"success",duration:2e3,showClose:!0,offset:80}),console.log(`æˆåŠŸæ·»åŠ  "${e.product.name}" åˆ°è´­ç‰©è½¦`)}catch(p){console.error("æ·»åŠ è´­ç‰©è½¦å¤±è´¥:",p),S({message:"æ·»åŠ å•†å“å¤±è´¥ï¼Œè¯·é‡è¯•",type:"error",duration:2e3,showClose:!0})}finally{o.value=!1}}},i=()=>{n.push(`/product/${e.product.id}`)};return(p,c)=>(r(),l("div",{class:"goods-item",onClick:i},[t("div",Ie,[t("img",{src:a.product.picture,alt:a.product.name},null,8,$e)]),t("div",ke,[t("h3",Ce,v(a.product.name),1),t("p",we,v(a.product.description),1),t("div",Le,[t("span",Pe,"Â¥"+v(a.product.price),1),t("button",{class:"add-cart-btn",onClick:ut(d,["stop"]),disabled:o.value},[o.value?(r(),l("span",xe,"â—")):(r(),l("span",je,"+"))],8,Me)])])]))}},De=P(Se,[["__scopeId","data-v-787547c1"]]),Te="/assets/222-qdFkonWe.jpg",U=F.create({baseURL:"",timeout:1e4});U.interceptors.request.use(a=>{const s=H().token;return s&&(a.headers.Authorization=`Bearer ${s}`),a},a=>Promise.reject(a));U.interceptors.response.use(a=>a,a=>{if(a.response)switch(a.response.status){case 401:H().logout(),S.error("ç™»å½•å·²è¿‡æœŸï¼Œè¯·é‡æ–°ç™»å½•"),st.push("/login");break;case 403:S.error("æ‹’ç»è®¿é—®");break;case 404:S.error("è¯·æ±‚èµ„æºä¸å­˜åœ¨");break;case 500:S.error("æœåŠ¡å™¨å†…éƒ¨é”™è¯¯");break;default:S.error(a.response.data?.message||"è¯·æ±‚é”™è¯¯")}else S.error("ç½‘ç»œé”™è¯¯ï¼Œè¯·æ£€æŸ¥ç½‘ç»œè¿æ¥");return Promise.reject(a)});const Ae=V("product",()=>{const a=k([]),e=k(null),s=k(!1),n=k(null);return{productList:a,currentProduct:e,loading:s,error:n,featuredProducts:()=>a.value.slice(0,4),fetchProducts:async()=>{s.value=!0,n.value=null;try{console.log("å¼€å§‹è·å–å•†å“æ•°æ®...");const h=(await U.get("/goods.json")).data;if(console.log("è·å–åˆ°çš„æ•°æ®:",h),h&&h.products)a.value=h.products,console.log("æˆåŠŸè®¾ç½®å•†å“åˆ—è¡¨:",a.value.length);else throw new Error("æ•°æ®æ ¼å¼ä¸æ­£ç¡®: ç¼ºå°‘ products å­—æ®µ")}catch(c){console.error("è·å–å•†å“æ•°æ®å¤±è´¥:",c),n.value="è·å–å•†å“æ•°æ®å¤±è´¥ï¼Œè¯·ç¨åé‡è¯•ã€‚"}finally{s.value=!1}},findProductById:c=>a.value.find(h=>h.id===c),setCurrentProduct:c=>{e.value=c}}}),Ee={class:"home"},Be={class:"category-nav"},Ne={class:"category-icon"},Ze={class:"category-name"},Re={key:0,class:"loading-state"},qe={key:1,class:"error-state"},Ge={class:"product-section"},Qe={class:"products-grid"},ze={class:"product-section"},He={class:"products-grid"},Oe=z({__name:"HomeProduct",setup(a){const e=Ae(),s=O(),n=G(),o=A(()=>e.loading),d=A(()=>e.error),i=A(()=>e.productList),p=A(()=>{const m=e.featuredProducts();return Array.isArray(m)?m:[]}),c=m=>m?.id||Math.random().toString(36).substr(2,9);R(()=>{i.value.length===0&&e.fetchProducts()});const h=["è”¬èœ","æ°´æœ","è‚‰ç±»","ç²®æ²¹","å¥¶åˆ¶å“","é›¶é£Ÿ"],$=m=>({è”¬èœ:"ğŸ¥¬",æ°´æœ:"ğŸ",è‚‰ç±»:"ğŸ¥©",ç²®æ²¹:"ğŸš",å¥¶åˆ¶å“:"ğŸ¥›",é›¶é£Ÿ:"ğŸª"})[m]||"ğŸ›’",C=m=>{e.setCurrentProduct(m),n.push(`/product/${m.id}`)},g=m=>{s.addToCart(m)},y=()=>{e.fetchProducts()};return(m,f)=>{const D=De;return r(),l("div",Ee,[f[3]||(f[3]=t("div",{class:"banner"},[t("img",{src:Te,alt:"å°å…”é²œä¿ƒé”€æ¨ªå¹…"})],-1)),t("div",Be,[(r(),l(j,null,T(h,M=>t("div",{class:"category-item",key:M},[t("span",Ne,v($(M)),1),t("span",Ze,v(M),1)])),64))]),o.value?(r(),l("div",Re,f[0]||(f[0]=[t("div",{class:"loading-spinner"},null,-1),t("p",null,"å•†å“åŠ è½½ä¸­...",-1)]))):d.value?(r(),l("div",qe,[t("p",null,v(d.value),1),t("button",{onClick:y,class:"retry-btn"},"é‡è¯•")])):(r(),l(j,{key:2},[t("div",Ge,[f[1]||(f[1]=t("h2",{class:"section-title"},"æ–°é²œå¥½ç‰©",-1)),t("div",Qe,[(r(!0),l(j,null,T(p.value,M=>(r(),E(D,{key:c(M),product:M,onItemClick:B=>C(M),onAddToCart:B=>g(M)},null,8,["product","onItemClick","onAddToCart"]))),128))])]),t("div",ze,[f[2]||(f[2]=t("h2",{class:"section-title"},"çƒ­é—¨å•†å“",-1)),t("div",He,[(r(!0),l(j,null,T(i.value.slice(4),M=>(r(),E(D,{key:c(M),product:M,onItemClick:B=>C(M),onAddToCart:B=>g(M)},null,8,["product","onItemClick","onAddToCart"]))),128))])])],64))])}}}),We=P(Oe,[["__scopeId","data-v-3ad8866d"]]),Ye={class:"home-banner"},Ve={key:0,class:"loading"},Fe=["src"],Ue={__name:"HomeBanner",setup(a){const e=k([]),s=k(!0),n=async()=>{try{s.value=!0;const o=await F.get("/goods.json");o.data.Banner&&o.data.Banner.length>0?e.value=o.data.Banner:e.value=[{picture:"https://bpic.588ku.com/templet_pic/24/07/29/248e4d2449e3c57163547b6ad600487d.jpg!/fw/750/quality/90/unsharp/true/compress/true"},{picture:"https://via.placeholder.com/1224x500/4ecdc4/ffffff?text=Banner2"}]}catch(o){console.error("è·å–è½®æ’­å›¾æ•°æ®å¤±è´¥:",o),e.value=[{picture:"https://bpic.588ku.com/templet_pic/24/07/29/248e4d2449e3c57163547b6ad600487d.jpg!/fw/750/quality/90/unsharp/true/compress/true"}]}finally{s.value=!1}};return R(()=>{n()}),(o,d)=>(r(),l("div",Ye,[s.value?(r(),l("div",Ve," è½®æ’­å›¾åŠ è½½ä¸­... ")):(r(),E(x(wt),{key:1,height:"500px",interval:4e3,"indicator-position":"outside"},{default:I(()=>[(r(!0),l(j,null,T(e.value,(i,p)=>(r(),E(x(Lt),{key:p},{default:I(()=>[t("img",{src:i.picture},null,8,Fe)]),_:2},1024))),128))]),_:1}))]))}},Je=P(Ue,[["__scopeId","data-v-7dcf5b6e"]]),Xe={class:"container"},Ke={__name:"index",setup(a){return(e,s)=>(r(),l(j,null,[t("div",Xe,[_(be),_(Je)]),_(We)],64))}},ts={};function es(a,e){return" æˆ‘æ˜¯åˆ†ç±» "}const ss=P(ts,[["render",es]]),as={class:"product-detail-page"},os={class:"detail-header"},ns={class:"header-actions"},rs={key:0,class:"cart-count"},is={key:0,class:"loading"},ls={key:1,class:"error"},cs={key:2,class:"detail-content"},ds={class:"product-gallery"},us=["alt"],ps={key:0,class:"loading-placeholder"},vs={class:"product-info"},ms={class:"product-title"},fs={class:"product-desc"},_s={class:"price-quantity-section"},gs={class:"price-rating"},hs={class:"current-price"},ys={key:0,class:"product-rating"},bs={class:"rating-value"},Is={class:"quantity-control-wrapper"},$s={class:"quantity-control"},ks=["disabled"],Cs={class:"quantity"},ws=["disabled"],Ls={key:0,class:"quantity-hint"},Ps={key:0,class:"stock-info"},Ms={key:1,class:"success-message"},js={class:"detail-tabs"},xs=["onClick"],Ss={class:"tab-content"},Ds={key:0},Ts={key:1},As={class:"spec-table"},Es={key:0},Bs={key:2},Ns={key:0,class:"review-summary"},Zs={class:"overall-rating"},Rs={class:"rating-score"},qs={key:3,class:"detail-footer"},Gs=["disabled"],Qs={key:0},zs={key:1},Hs=["disabled"],Os={__name:"index",setup(a){const e=pt(),s=G(),n=O(),o=k({}),d=k(1),i=k("detail"),p=k(!0),c=k(!1),h=k(!1),$=k(!1),C=k(!1),g=[{id:"detail",label:"å•†å“è¯¦æƒ…"},{id:"spec",label:"è§„æ ¼å‚æ•°"},{id:"review",label:"ç”¨æˆ·è¯„ä»·"}],y={vegetables:"è”¬èœ",fruits:"æ°´æœ",grains:"è°·ç‰©",eggs:"è›‹ç±»"},m=A(()=>n.totalItems),f=A(()=>o.value.stock||30),D=()=>{d.value<f.value&&(d.value+=1)},M=()=>{d.value>1&&(d.value-=1)},B=async()=>{if(o.value){h.value=!0;try{await n.addToCart(o.value,d.value),$.value=!0,setTimeout(()=>{$.value=!1},3e3),console.log(`æˆåŠŸæ·»åŠ  ${d.value} ä»¶ "${o.value.name}" åˆ°è´­ç‰©è½¦`)}catch(w){alert(w.message||"æ·»åŠ å•†å“å¤±è´¥ï¼Œè¯·é‡è¯•"),console.error("æ·»åŠ è´­ç‰©è½¦å¤±è´¥:",w)}finally{h.value=!1}}},ot=()=>{B().then(()=>{s.push("/cart")})},nt=()=>{s.push("/cart")},rt=w=>y[w]||w,it=()=>{C.value=!0,console.log("å•†å“å›¾ç‰‡åŠ è½½æˆåŠŸ")},lt=w=>{console.error("å•†å“å›¾ç‰‡åŠ è½½å¤±è´¥:",w),C.value=!0;const u=w.target;u.src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTAwIiBoZWlnaHQ9IjQwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSIjZjBmMGYwIi8+PHRleHQgeD0iNTAlIiB5PSI1MCUiIGZvbnQtc2l6ZT0iMTgiIGZpbGw9IiM5OTk5OTkiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGR5PSIuM2VtIj7lm77niYfpnZ7lu7o8L3RleHQ+PC9zdmc+"},J=w=>w?w.startsWith("http")||w.startsWith("/")||w.startsWith("./")?w:`/${w}`:(console.warn("å›¾ç‰‡è·¯å¾„ä¸ºç©º"),""),ct=async w=>{p.value=!0,c.value=!1,C.value=!1;try{await N.loadAllData();const u=N.getProductById(w);if(u)o.value=u,o.value.maxPurchase=Math.min(o.value.stock||30,30),console.log("åŠ è½½çš„å•†å“æ•°æ®:",o.value),console.log("å•†å“å›¾ç‰‡è·¯å¾„:",o.value.picture),console.log("å¤„ç†åçš„å›¾ç‰‡è·¯å¾„:",J(o.value.picture));else throw new Error("æœªæ‰¾åˆ°è¯¥å•†å“")}catch(u){console.error("åŠ è½½å•†å“å¤±è´¥:",u),c.value=!0}finally{p.value=!1}};return R(()=>{n.loadFromLocalStorage();const w=Number(e.params.id);w?ct(w):(c.value=!0,p.value=!1)}),(w,u)=>{const dt=Y("lazy");return r(),l("div",as,[t("header",os,[t("button",{onClick:u[0]||(u[0]=q=>w.$router.back()),class:"back-btn"},"â† è¿”å›"),u[4]||(u[4]=t("h1",null,"å•†å“è¯¦æƒ…",-1)),t("div",ns,[u[2]||(u[2]=t("button",null,"åˆ†äº«",-1)),u[3]||(u[3]=t("button",null,"æ”¶è—",-1)),t("div",{class:"cart-indicator",onClick:nt},[u[1]||(u[1]=L(" ğŸ›’ ",-1)),m.value>0?(r(),l("span",rs,v(m.value),1)):b("",!0)])])]),p.value?(r(),l("div",is,u[5]||(u[5]=[t("p",null,"æ­£åœ¨åŠ è½½å•†å“ä¿¡æ¯...",-1)]))):b("",!0),c.value?(r(),l("div",ls,u[6]||(u[6]=[t("p",null,"åŠ è½½å•†å“ä¿¡æ¯å¤±è´¥ï¼Œè¯·åˆ·æ–°é¡µé¢é‡è¯•",-1)]))):b("",!0),!p.value&&!c.value&&o.value.id?(r(),l("main",cs,[t("div",ds,[W(t("img",{alt:o.value.name,class:"main-image",onLoad:it,onError:lt},null,40,us),[[dt,J(o.value.picture)]]),C.value?b("",!0):(r(),l("div",ps))]),t("div",vs,[t("h2",ms,v(o.value.name),1),t("p",fs,v(o.value.description||o.value.desc),1),t("div",_s,[t("div",gs,[t("span",hs,"Â¥"+v(o.value.price?.toFixed(2)),1),o.value.rating?(r(),l("div",ys,[u[7]||(u[7]=t("span",{class:"rating-stars"},"â˜…â˜…â˜…â˜…â˜…",-1)),t("span",bs,v(o.value.rating),1)])):b("",!0)]),t("div",Is,[t("div",$s,[t("button",{onClick:M,disabled:d.value<=1},"-",8,ks),t("span",Cs,v(d.value),1),t("button",{onClick:D,disabled:d.value>=f.value},"+",8,ws)]),d.value>=f.value?(r(),l("div",Ls," å·²è¾¾æœ€å¤§è´­ä¹°æ•°é‡ ")):b("",!0)])]),o.value.stock!==void 0?(r(),l("div",Ps," åº“å­˜: "+v(o.value.stock)+"ä»¶ ",1)):b("",!0),$.value?(r(),l("div",Ms," âœ… å•†å“å·²æˆåŠŸæ·»åŠ åˆ°è´­ç‰©è½¦ï¼ ")):b("",!0)]),t("div",js,[(r(),l(j,null,T(g,q=>t("button",{key:q.id,class:et(["tab-btn",{active:i.value===q.id}]),onClick:Qa=>i.value=q.id},v(q.label),11,xs)),64))]),t("div",Ss,[i.value==="detail"?(r(),l("div",Ds,[u[8]||(u[8]=t("h3",null,"å•†å“è¯¦æƒ…",-1)),t("p",null,v(o.value.description||o.value.desc),1),t("p",null,"è¿™æ˜¯ä¸€æ¬¾ä¼˜è´¨çš„"+v(o.value.name)+"ï¼Œä¿è¯å“è´¨ã€‚",1)])):b("",!0),i.value==="spec"?(r(),l("div",Ts,[u[14]||(u[14]=t("h3",null,"è§„æ ¼å‚æ•°",-1)),t("table",As,[t("tr",null,[u[9]||(u[9]=t("td",{class:"spec-label"},"å•†å“åç§°",-1)),t("td",null,v(o.value.name),1)]),t("tr",null,[u[10]||(u[10]=t("td",{class:"spec-label"},"å•†å“åˆ†ç±»",-1)),t("td",null,v(rt(o.value.category)||o.value.categoryName),1)]),t("tr",null,[u[11]||(u[11]=t("td",{class:"spec-label"},"ä»·æ ¼",-1)),t("td",null,"Â¥"+v(o.value.price?.toFixed(2)),1)]),t("tr",null,[u[12]||(u[12]=t("td",{class:"spec-label"},"åº“å­˜",-1)),t("td",null,v(o.value.stock||10)+"ä»¶",1)]),o.value.rating?(r(),l("tr",Es,[u[13]||(u[13]=t("td",{class:"spec-label"},"è¯„åˆ†",-1)),t("td",null,v(o.value.rating)+"åˆ†",1)])):b("",!0)])])):b("",!0),i.value==="review"?(r(),l("div",Bs,[u[17]||(u[17]=t("h3",null,"ç”¨æˆ·è¯„ä»·",-1)),o.value.rating?(r(),l("div",Ns,[t("div",Zs,[t("span",Rs,v(o.value.rating),1),u[15]||(u[15]=t("div",{class:"rating-stars"},"â˜…â˜…â˜…â˜…â˜…",-1)),u[16]||(u[16]=t("span",{class:"rating-count"},"(æš‚æ— è¯„ä»·)",-1))])])):b("",!0),u[18]||(u[18]=t("div",{class:"no-reviews"},[t("p",null,"æš‚æ— ç”¨æˆ·è¯„ä»·"),t("p",null,"æˆä¸ºç¬¬ä¸€ä¸ªè¯„ä»·æ­¤å•†å“çš„äººå§ï¼")],-1))])):b("",!0)])])):b("",!0),!p.value&&!c.value&&o.value.id?(r(),l("footer",qs,[t("button",{class:"cart-btn",onClick:B,disabled:h.value},[h.value?(r(),l("span",zs,"æ·»åŠ ä¸­...")):(r(),l("span",Qs,"åŠ å…¥è´­ç‰©è½¦"))],8,Gs),t("button",{class:"buy-btn",onClick:ot,disabled:h.value},u[19]||(u[19]=[t("span",null,"ç«‹å³è´­ä¹°",-1)]),8,Hs)])):b("",!0)])}}},X=P(Os,[["__scopeId","data-v-77f5a96c"]]),Ws={class:"cart-item"},Ys={class:"item-image"},Vs={class:"image-container"},Fs=["alt"],Us={key:0,class:"loading-placeholder"},Js={class:"item-details"},Xs={class:"item-name"},Ks={key:0,class:"item-category"},ta={class:"item-price"},ea={class:"quantity-control"},sa=["disabled"],aa=["value","max"],oa=["disabled"],na={class:"item-total"},ra={class:"total-price"},ia=z({__name:"CartItem",props:{item:{},index:{}},emits:["increase-quantity","decrease-quantity","remove-item","update-quantity"],setup(a){const e=vt({}),s={vegetables:"è”¬èœ",fruits:"æ°´æœ",grains:"è°·ç‰©",eggs:"è›‹ç±»"},n=i=>s[i]||i,o=i=>{e[i]=!0},d=i=>{const p=i.target;p.src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTUwIiBoZWlnaHQ9IjE1MCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSIjZjBmMGYwIi8+PHRleHQgeD0iNTAlIiB5PSI1MCUiIGZvbnQtc2l6ZT0iMTQiIGZpbGw9IiM5OTk5OTkiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGR5PSIuM2VtIj7lm77niYc8L3RleHQ+PC9zdmc+";const c=Object.keys(e).find(h=>e[Number(h)]===!1);c&&(e[Number(c)]=!0)};return R(()=>{}),(i,p)=>{const c=Y("lazy");return r(),l("div",Ws,[t("div",Ys,[t("div",Vs,[W(t("img",{alt:i.item.name,onLoad:p[0]||(p[0]=h=>o(i.item.id)),onError:d},null,40,Fs),[[c,i.item.picture]]),e[i.item.id]?b("",!0):(r(),l("div",Us))])]),t("div",Js,[t("h3",Xs,v(i.item.name),1),i.item.category?(r(),l("p",Ks,"åˆ†ç±»: "+v(n(i.item.category)),1)):b("",!0),t("p",ta,"å•ä»·: Â¥"+v(i.item.price.toFixed(2)),1)]),t("div",ea,[t("button",{onClick:p[1]||(p[1]=h=>i.$emit("decrease-quantity")),disabled:i.item.quantity<=1},"-",8,sa),t("input",{type:"number",value:i.item.quantity,onInput:p[2]||(p[2]=h=>i.$emit("update-quantity",parseInt(h.target?.value??"0")||1)),min:"1",max:i.item.stock||10},null,40,aa),t("button",{onClick:p[3]||(p[3]=h=>i.$emit("increase-quantity")),disabled:i.item.quantity>=(i.item.stock||10)},"+",8,oa)]),t("div",na,[t("p",ra,"Â¥"+v((i.item.price*i.item.quantity).toFixed(2)),1)]),t("button",{class:"remove-btn",onClick:p[4]||(p[4]=h=>i.$emit("remove-item"))}," åˆ é™¤ ")])}}}),la=P(ia,[["__scopeId","data-v-bea1c7fd"]]),ca={name:"CartSummary",props:{subtotal:Number,shipping:Number,discount:Number,total:Number,itemCount:Number,subtotal:{type:Number,required:!0,default:0},shipping:{type:Number,required:!0,default:0},discount:{type:Number,required:!0,default:0},total:{type:Number,required:!0,default:0}},computed:{getItemCount(){return 3}},methods:{handleCheckout(){S({message:"æ”¯ä»˜æˆåŠŸï¼",type:"success",duration:3e3,offset:100}),this.$emit("clear-cart-instant")}}},da={class:"cart-summary"},ua={class:"summary-content"},pa={class:"summary-row"},va={class:"row-label"},ma={class:"item-count"},fa={class:"row-value"},_a={class:"summary-row"},ga={class:"row-label"},ha={key:0,class:"shipping-info"},ya={key:0,class:"summary-row"},ba={class:"row-value discount"},Ia={class:"summary-row summary-total"},$a={class:"total-value"},ka={key:1,class:"savings-notice"};function Ca(a,e,s,n,o,d){return r(),l("div",da,[e[8]||(e[8]=t("div",{class:"summary-header"},[t("h3",{class:"summary-title"},"è®¢å•æ‘˜è¦"),t("div",{class:"summary-icon"},"ğŸ“‹")],-1)),t("div",ua,[t("div",pa,[t("div",va,[e[2]||(e[2]=t("span",null,"å•†å“å°è®¡",-1)),t("span",ma,"("+v(d.getItemCount)+"ä»¶å•†å“)",1)]),t("span",fa,"Â¥"+v(s.subtotal.toFixed(2)),1)]),t("div",_a,[t("div",ga,[e[3]||(e[3]=t("span",null,"è¿è´¹",-1)),s.shipping===0?(r(),l("span",ha,"(å…è¿è´¹)")):b("",!0)]),t("span",{class:et(["row-value",{"free-shipping":s.shipping===0}])},v(s.shipping===0?"å…è´¹":`Â¥${s.shipping.toFixed(2)}`),3)]),s.discount>0?(r(),l("div",ya,[e[4]||(e[4]=t("div",{class:"row-label"},[t("span",null,"ä¼˜æƒ "),t("span",{class:"discount-badge"},"å·²ä¼˜æƒ ")],-1)),t("span",ba,"-Â¥"+v(s.discount.toFixed(2)),1)])):b("",!0),e[6]||(e[6]=t("div",{class:"divider"},null,-1)),t("div",Ia,[e[5]||(e[5]=t("span",{class:"total-label"},"è®¢å•æ€»è®¡",-1)),t("span",$a,"Â¥"+v(s.total.toFixed(2)),1)]),s.discount>0?(r(),l("div",ka," æ‚¨å·²èŠ‚çœ Â¥"+v(s.discount.toFixed(2)),1)):b("",!0)]),t("button",{class:"checkout-btn",onClick:e[1]||(e[1]=(...i)=>d.handleCheckout&&d.handleCheckout(...i))},[t("span",{class:"btn-text",onClick:e[0]||(e[0]=(...i)=>a.clearCart&&a.clearCart(...i))},"å»ç»“ç®—"),e[7]||(e[7]=t("span",{class:"btn-arrow"},"â†’",-1))]),e[9]||(e[9]=t("div",{class:"secure-checkout"},[t("div",{class:"secure-icon"},"ğŸ”’"),t("span",null,"å®‰å…¨ç»“ç®— Â· éšç§ä¿æŠ¤")],-1))])}const wa=P(ca,[["render",Ca],["__scopeId","data-v-42324b97"]]),La={name:"EmptyCart"},Pa={class:"empty-cart"};function Ma(a,e,s,n,o,d){const i=Z("router-link");return r(),l("div",Pa,[e[1]||(e[1]=t("img",{src:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyNTYgMjU2Ij48cmVjdCB3aWR0aD0iMjU2IiBoZWlnaHQ9IjI1NiIgZmlsbD0iI2Y1ZjVmNSIvPjxwYXRoIGQ9Ik0xMjgsMzJhOTYsOTYsMCwxLDAsOTYsOTZBOTYuMTEsOTYuMTEsMCwwLDAsMTI4LDMyWm0wLDE2YTgwLDgwLDAsMSwxLTgwLTgwQTgwLjA5LDgwLjA5LDAsMCwxLDEyOCw0OFoiIGZpbGw9IiNkZGQiLz48cGF0aCBkPSJNMTY4LDcySDg4YTgsOCwwLDAsMCwwLDE2aDgwYTgsOCwwLDAsMCwwLTE2WiIgZmlsbD0iI2RkZCIvPjxwYXRoIGQ9Ik0xNzYsMTEySDgwYTgsOCwwLDAsMCwwLDE2aDk2YTgsOCwwLDAsMCwwLTE2WiIgZmlsbD0iI2RkZCIvPjxwYXRoIGQ9Ik0xNjAsMTUySDk2YTgsOCwwLDAsMCwwLDE2aDY0YTgsOCwwLDAsMCwwLTE2WiIgZmlsbD0iI2RkZCIvPjwvc3ZnPg==",alt:"ç©ºè´­ç‰©è½¦"},null,-1)),e[2]||(e[2]=t("h3",null,"æ‚¨çš„è´­ç‰©è½¦æ˜¯ç©ºçš„",-1)),e[3]||(e[3]=t("p",null,"å¿«å»æŒ‘é€‰ä¸€äº›å¿ƒä»ªçš„å•†å“å§",-1)),_(i,{to:"/",class:"continue-shopping"},{default:I(()=>e[0]||(e[0]=[L("å‰å¾€è´­ç‰©",-1)])),_:1,__:[0]})])}const ja=P(La,[["render",Ma],["__scopeId","data-v-7ce95bcd"]]),xa={id:"app"},Sa={class:"container"},Da={class:"header"},Ta={key:0,class:"cart-stats"},Aa={key:0,class:"loading"},Ea={key:1,class:"error"},Ba={key:2,class:"cart-container"},Na={class:"cart-items"},Za=z({__name:"index",setup(a){const e=O(),s=k(!1),n=k(!1),o=g=>{try{e.increaseQuantity(g)}catch(y){alert(y.message)}},d=g=>{try{e.decreaseQuantity(g)}catch(y){alert(y.message)}},i=(g,y)=>{try{e.updateQuantity(g,y)}catch(m){alert(m.message)}},p=g=>{confirm("ç¡®å®šè¦åˆ é™¤è¿™ä¸ªå•†å“å—ï¼Ÿ")&&e.removeFromCart(g)},c=()=>{if(e.isEmpty){alert("è´­ç‰©è½¦å·²ç»æ˜¯ç©ºçš„");return}confirm("ç¡®å®šè¦æ¸…ç©ºè´­ç‰©è½¦å—ï¼Ÿæ­¤æ“ä½œä¸å¯æ’¤é”€ï¼")&&(e.clearCart(),alert("è´­ç‰©è½¦å·²æ¸…ç©º"))},h=()=>{e.clearCart()};R(()=>{s.value=!0;try{e.loadFromLocalStorage(),$()}catch(g){console.error("åŠ è½½è´­ç‰©è½¦æ•°æ®å¤±è´¥:",g),n.value=!0}finally{s.value=!1}});const $=async()=>{for(const g of e.cartItems)if(!g.picture)try{g.picture=C(g)}catch(y){console.error(`è·å–å•†å“ ${g.id} çš„å›¾ç‰‡å¤±è´¥:`,y),g.picture=C(g)}},C=g=>{const y={vegetables:"https://images.unsplash.com/photo-1540420773420-3366772f4999?w=150",fruits:"https://images.unsplash.com/photo-1568702846914-96b305d2aaeb?w=150",grains:"https://images.unsplash.com/photo-1540189549336-e6e99c3679fe?w=150",eggs:"https://images.unsplash.com/photo-1582722872445-44dc5f7e3c8f?w=150",default:"https://images.unsplash.com/photo-1542838132-92c53300491e?w=150"};return y[g.category]||y.default};return(g,y)=>(r(),l("div",xa,[t("div",Sa,[t("div",Da,[s.value?b("",!0):(r(),l("div",Ta))]),s.value?(r(),l("div",Aa,y[0]||(y[0]=[t("p",null,"æ­£åœ¨åŠ è½½å•†å“ä¿¡æ¯...",-1)]))):b("",!0),n.value?(r(),l("div",Ea,y[1]||(y[1]=[t("p",null,"åŠ è½½å•†å“ä¿¡æ¯å¤±è´¥ï¼Œè¯·åˆ·æ–°é¡µé¢é‡è¯•",-1)]))):b("",!0),!s.value&&!n.value&&!x(e).isEmpty?(r(),l("div",Ba,[t("div",{class:"cart-actions"},[t("button",{class:"clear-cart-btn",onClick:c},"æ¸…ç©ºè´­ç‰©è½¦")]),t("div",Na,[(r(!0),l(j,null,T(x(e).cartItems,(m,f)=>(r(),E(la,{key:m.id,item:m,index:f,onIncreaseQuantity:D=>o(m.id),onDecreaseQuantity:D=>d(m.id),onRemoveItem:D=>p(m.id),onUpdateQuantity:D=>i(m.id,D)},null,8,["item","index","onIncreaseQuantity","onDecreaseQuantity","onRemoveItem","onUpdateQuantity"]))),128))]),_(wa,{subtotal:x(e).subtotal,shipping:x(e).shipping,discount:x(e).discount,total:x(e).total,onClearCartInstant:h},null,8,["subtotal","shipping","discount","total"])])):b("",!0),!s.value&&!n.value&&x(e).isEmpty?(r(),E(ja,{key:3})):b("",!0)])]))}}),Ra=P(Za,[["__scopeId","data-v-ce894a28"]]),st=mt({history:ft("/"),routes:[{path:"/",component:oe,children:[{path:"",component:Ke},{path:"category",component:ss},{path:"cart",component:Ra},{path:"product/:id",component:X,props:!0}]},{path:"/login",component:Zt},{path:"/product/:id",component:X,props:!0}]}),qa={mounted(a,e){a.src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzAwIiBoZWlnaHQ9IjIwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSIjZjBmMGYwIi8+PC9zdmc+";const s=new IntersectionObserver(n=>{n.forEach(o=>{o.isIntersecting&&(a.src=e.value,a.onload=()=>{s.unobserve(a)},a.onerror=()=>{s.unobserve(a),a.src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzAwIiBoZWlnaHQ9IjIwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSIjZmY2NjY2Ii8+PC9zdmc+"})})},{rootMargin:"0px 0px 100px 0px"});s.observe(a),a._lazyLoadObserver=s},unmounted(a){a._lazyLoadObserver&&a._lazyLoadObserver.disconnect()}},Ga=a=>{a.directive("lazy",qa)},at=gt(),Q=_t(jt);at.use(ht);Q.use(Pt);Q.use(at);Q.use(st);Ga(Q);Q.mount("#app");
