import{u as U}from"./user-BH4Z0WSC.js";import{d as F,f as v,h as t,u as i,F as j,m as r,t as w,e as n,p as M,l as c,A as z,g as f,_ as x,D as E,r as m,c as _,i as A,z as G,G as Z,H as K,j as T,q as Q,s as W,I as b,C as X}from"./index-BxbSC7I3.js";import{p as D}from"./productService-BHw07omx.js";import{u as Y}from"./cart-DvZSbMzH.js";const aa={class:"app-topnav"},ta={class:"container"},sa={href:"javascript:;"},ea=F({__name:"LayoutNav",setup(e){const d=U(),l=()=>{d.logout(),z.success("å·²é€€å‡ºç™»å½•")};return(o,a)=>{const p=M("el-popconfirm"),h=M("router-link");return f(),v("nav",aa,[t("div",ta,[t("ul",null,[i(d).isLogin?(f(),v(j,{key:0},[t("li",null,[t("a",sa,[a[1]||(a[1]=t("i",{class:"iconfont icon-user"},null,-1)),r(w(i(d).userInfo?.account),1)])]),t("li",null,[n(p,{title:"ç¡®è®¤é€€å‡ºå—?","confirm-button-text":"ç¡®è®¤","cancel-button-text":"å–æ¶ˆ",onConfirm:l,"<!--":"",æ·»åŠ ç¡®è®¤é€€å‡ºçš„äº‹ä»¶å¤„ç†:"","--":""},{reference:c(()=>[...a[2]||(a[2]=[t("a",{href:"javascript:;"},"é€€å‡ºç™»å½•",-1)])]),default:c(()=>[a[3]||(a[3]=r(" > ",-1))]),_:1})]),a[5]||(a[5]=t("li",null,[t("a",{href:"javascript:;"},"æˆ‘çš„è®¢å•")],-1)),t("li",null,[n(h,{to:"/Cart"},{default:c(()=>[...a[4]||(a[4]=[r("æˆ‘çš„è´­ç‰©è½¦",-1)])]),_:1})])],64)):(f(),v(j,{key:1},[t("li",null,[t("a",{href:"javascript:;",onClick:a[0]||(a[0]=C=>o.$router.push("/login"))},"è¯·å…ˆç™»å½•")]),a[6]||(a[6]=t("li",null,[t("a",{href:"javascript:;"},"å¸®åŠ©ä¸­å¿ƒ")],-1)),a[7]||(a[7]=t("li",null,[t("a",{href:"javascript:;"},"å…³äºæˆ‘ä»¬")],-1))],64))])])])}}}),Pa=x(ea,[["__scopeId","data-v-642715b8"]]),oa=E("search",()=>{const e=m([]),d=m(["æ‰‹æœº","ç”µè„‘","è€³æœº","é”®ç›˜","è¡£æœ","é‹å­","åŒ…åŒ…","åŒ–å¦†å“","é£Ÿå“","é¥®æ–™","é›¶é£Ÿ","å¹³æ¿"]),l=m([]),o=m([]),a=m(""),p=m(!1),h=()=>{const s=localStorage.getItem("searchHistory");if(s)try{e.value=JSON.parse(s)}catch(u){console.error("è§£ææœç´¢å†å²å¤±è´¥:",u),e.value=[]}},C=s=>{if(!s.trim())return;const u=e.value.indexOf(s);u!==-1&&e.value.splice(u,1),e.value.unshift(s),e.value.length>10&&(e.value=e.value.slice(0,10)),localStorage.setItem("searchHistory",JSON.stringify(e.value))},$=s=>{e.value.splice(s,1),localStorage.setItem("searchHistory",JSON.stringify(e.value))},L=()=>{e.value=[],localStorage.removeItem("searchHistory")},I=s=>{const u=["æ°´æœ","è”¬èœ","è°·ç‰©","è›‹ç±»","æœé¥°","æ‰‹æœº","ç”µè„‘","å¹³æ¿","è€³æœº","è¡£æœ","é‹å­","åŒ…åŒ…","ç¾å¦†","é£Ÿå“","é¥®æ–™","é›¶é£Ÿ"];l.value=u.filter(H=>H.includes(s)).slice(0,5)},N=async s=>{await D.loadAllData();const u=D.getAllProducts();if(!s.trim())return u;const H=s.toLowerCase(),O={æ°´æœ:"fruits",è”¬èœ:"vegetables",è°·ç‰©:"grains",è›‹ç±»:"eggs",æœé¥°:"clothing"}[s]?.toLowerCase()||"";return u.filter(R=>{const J=R.name.toLowerCase(),V=(R.category||R.categoryName||"")?.toLowerCase()||"";return J.includes(H)||V.includes(H)||V===O})},q=async s=>{p.value=!0,a.value=s;try{I(s);const u=await N(s);o.value=u,s.trim()&&C(s)}catch(u){console.error("æœç´¢å¤±è´¥:",u),o.value=[]}finally{p.value=!1}},P=_(()=>e.value),S=_(()=>d.value),y=_(()=>l.value),g=_(()=>o.value),k=_(()=>a.value),B=_(()=>p.value);return{history:e,hotKeywords:d,suggestions:l,results:o,keyword:a,isLoading:p,getHistory:P,getHotKeywords:S,getSuggestions:y,getResults:g,getKeyword:k,getIsLoading:B,loadHistory:h,addToHistory:C,removeHistory:$,clearHistory:L,searchProducts:q}}),na={class:"search-container"},ca={class:"search-box"},ra={key:0,class:"search-history"},la={class:"history-tags"},ia=["onClick"],da=["onClick"],ua={key:1,class:"search-suggestions"},va=["onClick"],fa=F({__name:"SearchBar",setup(e){const d=Q(),l=oa(),o=m(""),a=m(!1),p=m(!1),h=()=>{o.value.trim()&&(l.addToHistory(o.value),d.push({path:"/search",query:{q:o.value}}))},C=_(()=>l.history),$=_(()=>l.suggestions),L=S=>{o.value=S,h()},I=S=>{l.removeHistory(S)},N=()=>{l.clearHistory()},q=()=>{setTimeout(()=>{a.value=!1,p.value=!1},200)},P=S=>{o.value=S,p.value=!1,h()};return(S,y)=>(f(),v("div",na,[t("div",ca,[G(t("input",{"onUpdate:modelValue":y[0]||(y[0]=g=>o.value=g),type:"text",placeholder:"æœç´¢å•†å“...",onFocus:y[1]||(y[1]=g=>{a.value=!0,p.value=!0}),onInput:y[2]||(y[2]=g=>p.value=!0),onBlur:q,onKeyup:K(h,["enter"])},null,544),[[Z,o.value]]),t("button",{onClick:h,class:"search-btn"},"æœç´¢")]),a.value&&C.value.length?(f(),v("div",ra,[t("div",{class:"history-header"},[y[3]||(y[3]=t("span",null,"æœç´¢å†å²",-1)),t("button",{onClick:N},"æ¸…ç©ºæ‰€æœ‰")]),t("div",la,[(f(!0),v(j,null,T(C.value,(g,k)=>(f(),v("span",{key:k,class:"history-tag",onClick:B=>L(g)},[r(w(g)+" ",1),t("span",{class:"delete",onClick:W(B=>I(k),["stop"])},"Ã—",8,da)],8,ia))),128))])])):A("",!0),p.value&&$.value.length?(f(),v("div",ua,[(f(!0),v(j,null,T($.value,g=>(f(),v("div",{key:g},[t("span",{onClick:k=>P(g)},w(g),9,va)]))),128))])):A("",!0)]))}}),pa=x(fa,[["__scopeId","data-v-af2ca2cd"]]),ga={class:"app-header"},ba={class:"container"},ya={class:"logo"},ma={class:"app-header-nav"},_a={class:"home"},ha={class:"search"},Sa={class:"cart"},Ca={key:0},ka={__name:"LayoutHeader",setup(e){const d=Y(),l=_(()=>d.items.reduce((o,a)=>o+a.quantity,0));return(o,a)=>(f(),v("header",ga,[t("div",ba,[t("h1",ya,[n(i(b),{to:"/"},{default:c(()=>[...a[0]||(a[0]=[r("å°å…”é²œ",-1)])]),_:1})]),t("ul",ma,[t("li",_a,[n(i(b),{to:"/"},{default:c(()=>[...a[1]||(a[1]=[r("é¦–é¡µ",-1)])]),_:1})]),t("li",null,[n(i(b),{to:"/"},{default:c(()=>[...a[2]||(a[2]=[r("å±…å®¶",-1)])]),_:1})]),t("li",null,[n(i(b),{to:"/"},{default:c(()=>[...a[3]||(a[3]=[r("ç¾é£Ÿ",-1)])]),_:1})]),t("li",null,[n(i(b),{to:"/"},{default:c(()=>[...a[4]||(a[4]=[r("æœé¥°",-1)])]),_:1})]),t("li",null,[n(i(b),{to:"/"},{default:c(()=>[...a[5]||(a[5]=[r("æ¯å©´",-1)])]),_:1})]),t("li",null,[n(i(b),{to:"/"},{default:c(()=>[...a[6]||(a[6]=[r("æ‰‹æœº",-1)])]),_:1})]),t("li",null,[n(i(b),{to:"/"},{default:c(()=>[...a[7]||(a[7]=[r("ç¾å¦†",-1)])]),_:1})]),t("li",null,[n(i(b),{to:"/"},{default:c(()=>[...a[8]||(a[8]=[r("ç”µè„‘",-1)])]),_:1})]),t("li",null,[n(i(b),{to:"/"},{default:c(()=>[...a[9]||(a[9]=[r("é¥°å“",-1)])]),_:1})]),t("li",null,[n(i(b),{to:"/"},{default:c(()=>[...a[10]||(a[10]=[r("åŒ»è¯",-1)])]),_:1})])]),t("div",ha,[n(pa)]),t("div",Sa,[n(i(b),{to:"/Cart",class:"curr"},{default:c(()=>[a[11]||(a[11]=t("i",{class:"iconfont icon-gouwuche",style:{"font-size":"24px"}},"ğŸ›’",-1)),l.value>0?(f(),v("em",Ca,w(l.value),1)):A("",!0)]),_:1})])])]))}},Ba=x(ka,[["__scopeId","data-v-f7abf6d4"]]),$a=""+new URL("../images/qrcode-orqZiaKR.jpg",import.meta.url).href,Ha={},ja={class:"app_footer"};function wa(e,d){return f(),v("footer",ja,[...d[0]||(d[0]=[X('<div class="contact" data-v-fc83cb7a><div class="container" data-v-fc83cb7a><dl data-v-fc83cb7a><dt data-v-fc83cb7a>å®¢æˆ·æœåŠ¡</dt><dd data-v-fc83cb7a><i class="iconfont icon-kefu" data-v-fc83cb7a></i> åœ¨çº¿å®¢æœ</dd><dd data-v-fc83cb7a><i class="iconfont icon-question" data-v-fc83cb7a></i> é—®é¢˜åé¦ˆ</dd></dl><dl data-v-fc83cb7a><dt data-v-fc83cb7a>å…³æ³¨æˆ‘ä»¬</dt><dd data-v-fc83cb7a><i class="iconfont icon-weixin" data-v-fc83cb7a></i> å…¬ä¼—å·</dd><dd data-v-fc83cb7a><i class="iconfont icon-weibo" data-v-fc83cb7a></i> å¾®åš</dd></dl><dl data-v-fc83cb7a><dt data-v-fc83cb7a>ä¸‹è½½APP</dt><dd class="qrcode" data-v-fc83cb7a><img src="'+$a+'" data-v-fc83cb7a></dd><dd class="download" data-v-fc83cb7a><span data-v-fc83cb7a>æ‰«æäºŒç»´ç </span><span data-v-fc83cb7a>ç«‹é©¬ä¸‹è½½APP</span><a href="javascript:;" data-v-fc83cb7a>ä¸‹è½½é¡µé¢</a></dd></dl><dl data-v-fc83cb7a><dt data-v-fc83cb7a>æœåŠ¡çƒ­çº¿</dt><dd class="hotline" data-v-fc83cb7a>400-0000-000 <small data-v-fc83cb7a>å‘¨ä¸€è‡³å‘¨æ—¥ 8:00-18:00</small></dd></dl></div></div><div class="extra" data-v-fc83cb7a><div class="container" data-v-fc83cb7a><div class="slogan" data-v-fc83cb7a><a href="javascript:;" data-v-fc83cb7a><i class="iconfont icon-footer01" data-v-fc83cb7a></i><span data-v-fc83cb7a>ä»·æ ¼äº²æ°‘</span></a><a href="javascript:;" data-v-fc83cb7a><i class="iconfont icon-footer02" data-v-fc83cb7a></i><span data-v-fc83cb7a>ç‰©æµå¿«æ·</span></a><a href="javascript:;" data-v-fc83cb7a><i class="iconfont icon-footer03" data-v-fc83cb7a></i><span data-v-fc83cb7a>å“è´¨æ–°é²œ</span></a></div><div class="copyright" data-v-fc83cb7a><p data-v-fc83cb7a><a href="javascript:;" data-v-fc83cb7a>å…³äºæˆ‘ä»¬</a><a href="javascript:;" data-v-fc83cb7a>å¸®åŠ©ä¸­å¿ƒ</a><a href="javascript:;" data-v-fc83cb7a>å”®åæœåŠ¡</a><a href="javascript:;" data-v-fc83cb7a>é…é€ä¸éªŒæ”¶</a><a href="javascript:;" data-v-fc83cb7a>å•†åŠ¡åˆä½œ</a><a href="javascript:;" data-v-fc83cb7a>æœç´¢æ¨è</a><a href="javascript:;" data-v-fc83cb7a>å‹æƒ…é“¾æ¥</a></p><p data-v-fc83cb7a>vueç”µå•†å¹³å°</p></div></div></div>',2)])])}const Ra=x(Ha,[["render",wa],["__scopeId","data-v-fc83cb7a"]]);export{Pa as L,pa as S,Ba as a,Ra as b,oa as u};
