import{d as q,c as d,D as S,w as K,o as x,f as n,g as s,e as B,t as c,F as v,q as y,v as C,k as r,_ as L}from"./index-DvrrHcYe.js";import{u as P,S as $}from"./SearchBar-Qp16dgp2.js";function _(a){return typeof a=="string"?a:Array.isArray(a)&&a.length>0?a[0]:""}const A={class:"search-results-page"},D={class:"search-header"},F={class:"results-content"},N={key:0,class:"loading-state"},R={key:1,class:"no-results"},T={class:"suggestions"},V={class:"hot-tags"},E=["onClick"],I={key:2},M={class:"results-header"},Q={class:"results-count"},b={class:"product-list"},j=["onClick"],z=["src","alt"],G={class:"product-info"},H={class:"product-name"},J={class:"product-category"},O={class:"product-price"},U={key:3,class:"initial-state"},W=q({__name:"index",setup(a){const u=S(),h=C(),i=P(),p=d(()=>_(u.query.q)||i.keyword),l=d(()=>i.results),g=d(()=>i.isLoading),m=d(()=>i.hotKeywords);K(()=>u.query.q,o=>{const e=_(o);e.trim()&&i.searchProducts(e)},{immediate:!0});const k=o=>{h.push({path:"/search",query:{q:o}})},f=o=>{h.push(`/product/${o}`)};return x(()=>{const o=_(u.query.q);o&&i.searchProducts(o)}),(o,e)=>(r(),n("div",A,[s("div",D,[B($)]),s("div",F,[g.value?(r(),n("div",N,[...e[0]||(e[0]=[s("div",{class:"spinner"},null,-1),s("p",null,"æ­£åœ¨æœç´¢...",-1)])])):l.value.length===0&&p.value?(r(),n("div",R,[e[2]||(e[2]=s("div",{class:"empty-icon"},"ğŸ”",-1)),s("h3",null,'æ²¡æœ‰æ‰¾åˆ°"'+c(p.value)+'"ç›¸å…³å•†å“',1),e[3]||(e[3]=s("p",null,"è¯·å°è¯•å…¶ä»–å…³é”®è¯",-1)),s("div",T,[e[1]||(e[1]=s("h4",null,"çƒ­é—¨æœç´¢ï¼š",-1)),s("div",V,[(r(!0),n(v,null,y(m.value,t=>(r(),n("span",{key:t,class:"hot-tag",onClick:w=>k(t)},c(t),9,E))),128))])])])):l.value.length>0?(r(),n("div",I,[s("div",M,[e[4]||(e[4]=s("h2",null,"æœç´¢ç»“æœ",-1)),s("p",Q,"æ‰¾åˆ° "+c(l.value.length)+" ä¸ªç›¸å…³å•†å“",1)]),s("div",b,[(r(!0),n(v,null,y(l.value,t=>(r(),n("div",{key:t.id,class:"product-card",onClick:w=>f(t.id)},[s("img",{src:t.image,alt:t.name,class:"product-image"},null,8,z),s("div",G,[s("h3",H,c(t.name),1),s("p",J,c(t.category),1),s("div",O,"Â¥"+c(t.price),1)])],8,j))),128))])])):(r(),n("div",U,[...e[5]||(e[5]=[s("div",{class:"placeholder-icon"},"ğŸ”",-1),s("p",null,"è¯·è¾“å…¥å…³é”®è¯æœç´¢å•†å“",-1)])]))])]))}}),Z=L(W,[["__scopeId","data-v-adae67dc"]]);export{Z as default};
