import{d as S,c as d,D as x,w as C,o as K,f as n,g as s,e as B,t as c,F as g,q as v,v as F,k as r,_ as L}from"./index-B3m6whcO.js";import{u as M,S as N}from"./SearchBar-DT4G5vms.js";import"./productService-BHw07omx.js";function _(a){return typeof a=="string"?a:Array.isArray(a)&&a.length>0?a[0]:""}const P={class:"search-results-page"},$={class:"search-header"},A={class:"results-content"},D={key:0,class:"loading-state"},R={key:1,class:"no-results"},T={class:"suggestions"},V={class:"hot-tags"},b=["onClick"],E={key:2},I={class:"results-header"},Q={class:"results-count"},j={class:"product-list"},z=["onClick"],G=["src","alt"],H={class:"product-info"},J={class:"product-name"},O={class:"product-category"},U={class:"product-price"},W={key:3,class:"initial-state"},X=S({__name:"index",setup(a){const u=x(),h=F(),i=M(),p=d(()=>_(u.query.q)||i.keyword),l=d(()=>i.results),y=d(()=>i.isLoading),m=d(()=>i.hotKeywords);C(()=>u.query.q,e=>{const t=_(e);t.trim()&&i.searchProducts(t)},{immediate:!0});const f=e=>{h.push({path:"/search",query:{q:e}})},k=e=>{h.push(`/product/${e}`)},w=e=>({fruits:"æ°´æœ",vegetables:"è”¬èœ",grains:"è°·ç‰©",eggs:"è›‹ç±»",clothing:"æœé¥°"})[e]||e;return K(()=>{const e=_(u.query.q);e&&i.searchProducts(e)}),(e,t)=>(r(),n("div",P,[s("div",$,[B(N)]),s("div",A,[y.value?(r(),n("div",D,[...t[0]||(t[0]=[s("div",{class:"spinner"},null,-1),s("p",null,"æ­£åœ¨æœç´¢...",-1)])])):l.value.length===0&&p.value?(r(),n("div",R,[t[2]||(t[2]=s("div",{class:"empty-icon"},"ğŸ”",-1)),s("h3",null,'æ²¡æœ‰æ‰¾åˆ°"'+c(p.value)+'"ç›¸å…³å•†å“',1),t[3]||(t[3]=s("p",null,"è¯·å°è¯•å…¶ä»–å…³é”®è¯",-1)),s("div",T,[t[1]||(t[1]=s("h4",null,"çƒ­é—¨æœç´¢ï¼š",-1)),s("div",V,[(r(!0),n(g,null,v(m.value,o=>(r(),n("span",{key:o,class:"hot-tag",onClick:q=>f(o)},c(o),9,b))),128))])])])):l.value.length>0?(r(),n("div",E,[s("div",I,[t[4]||(t[4]=s("h2",null,"æœç´¢ç»“æœ",-1)),s("p",Q,"æ‰¾åˆ° "+c(l.value.length)+" ä¸ªç›¸å…³å•†å“",1)]),s("div",j,[(r(!0),n(g,null,v(l.value,o=>(r(),n("div",{key:o.id,class:"product-card",onClick:q=>k(o.id)},[s("img",{src:o.picture,alt:o.name,class:"product-image"},null,8,G),s("div",H,[s("h3",J,c(o.name),1),s("p",O,c(w(o.category)),1),s("div",U,"Â¥"+c(o.price.toFixed(2)),1)])],8,z))),128))])])):(r(),n("div",W,[...t[5]||(t[5]=[s("div",{class:"placeholder-icon"},"ğŸ”",-1),s("p",null,"è¯·è¾“å…¥å…³é”®è¯æœç´¢å•†å“",-1)])]))])]))}}),ts=L(X,[["__scopeId","data-v-c2a4dac8"]]);export{ts as default};
