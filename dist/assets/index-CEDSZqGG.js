import{I as E,y as r,u as j,aW as K,r as k,c as A,x as i,z as e,aX as tt,R as g,J as I,ay as R,aY as Q,O as L,l as O,Q as M,P as m,q as B,L as b,ac as D,K as z,aI as F,Y as ut,aZ as vt,C as et,_ as mt,a_ as pt,a$ as ft,aQ as gt}from"./vendor-vue-C53EazzQ.js";import{P as W,Q as V,R as _t,U as ht}from"./vendor-other-MTqSAHyv.js";import{E as yt,a as bt,b as It,c as $t,d as kt,e as S,f as Ct,g as wt,h as Lt,i as Pt}from"./vendor-element-L-g01ONQ.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&n(d)}).observe(document,{childList:!0,subtree:!0});function a(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function n(o){if(o.ep)return;o.ep=!0;const c=a(o);fetch(o.href,c)}})();const P=(s,t)=>{const a=s.__vccOpts||s;for(const[n,o]of t)a[n]=o;return a},xt={__name:"App",setup(s){return(t,a)=>(r(),E(j(K)))}},Mt=P(xt,[["__scopeId","data-v-dde09078"]]),H=W("user",()=>{const s=k(null),t=k(!1),a=k(null),n=A(()=>t.value);return{userInfo:s,isLogin:t,getUserStatus:n,token:a,login:(d,v)=>{s.value=d,a.value=v,t.value=!0},logout:()=>{s.value=null,a.value=null,t.value=!1}}},{persist:{key:"user-store",paths:["userInfo","isLogin","token"],storage:localStorage}}),jt={class:"login-header"},St={class:"container m-top-20"},Tt={class:"logo"},Dt={class:"login-section"},At={class:"wrapper"},Et={class:"account-box"},Nt={class:"form"},qt={__name:"index",setup(s){const t=Q(),a=H(),n=k({account:"",password:"",agree:!0}),o={account:[{required:!0,message:"ç”¨æˆ·åä¸èƒ½ä¸ºç©º",trigger:"blur"}],password:[{required:!0,message:"å¯†ç ä¸èƒ½ä¸ºç©º",trigger:"blur"},{min:6,max:14,message:"å¯†ç ä¸º6~14ä½",trigger:"blur"}],agree:[{validator:(v,l,h)=>{l?h():h(new Error("è¯·å‹¾é€‰åè®®"))},trigger:"change"}]},c=k(null),d=()=>{c.value.validate(async v=>{if(v)try{const l=`mock-token-${Date.now()}-${Math.random().toString(36).substr(2,9)}`;a.login({id:Date.now(),name:n.value.account,account:n.value.account},l),S.success("ç™»å½•æˆåŠŸï¼"),t.push("/")}catch(l){S.error("ç™»å½•å¤±è´¥ï¼Œè¯·æ£€æŸ¥ç”¨æˆ·åå’Œå¯†ç "),console.error("ç™»å½•å¤±è´¥:",l)}else return S.warning("è¯·æ­£ç¡®å¡«å†™è¡¨å•ä¿¡æ¯"),!1})};return(v,l)=>{const h=R("RouterLink"),$=It,C=bt,_=$t,y=kt,p=yt;return r(),i("div",null,[e("header",jt,[e("div",St,[e("h1",Tt,[g(h,{to:"/"},{default:I(()=>[...l[3]||(l[3]=[L("å°å…”é²œ",-1)])]),_:1})]),g(h,{class:"entry",to:"/"},{default:I(()=>[...l[4]||(l[4]=[L(" è¿›å…¥ç½‘ç«™é¦–é¡µ ",-1),e("i",{class:"iconfont icon-angle-right"},null,-1),e("i",{class:"iconfont icon-angle-right"},null,-1)])]),_:1})])]),e("section",Dt,[e("div",At,[l[7]||(l[7]=e("nav",null,[e("a",{href:"javascript:;"},"è´¦æˆ·ç™»å½•")],-1)),e("div",Et,[e("div",Nt,[g(p,{ref_key:"formRef",ref:c,model:n.value,rules:o,"label-position":"right","label-width":"60px","status-icon":""},{default:I(()=>[g(C,{prop:"account",label:"è´¦æˆ·"},{default:I(()=>[g($,{modelValue:n.value.account,"onUpdate:modelValue":l[0]||(l[0]=f=>n.value.account=f)},null,8,["modelValue"])]),_:1}),g(C,{prop:"password",label:"å¯†ç "},{default:I(()=>[g($,{modelValue:n.value.password,"onUpdate:modelValue":l[1]||(l[1]=f=>n.value.password=f)},null,8,["modelValue"])]),_:1}),g(C,{prop:"agree","label-width":"22px"},{default:I(()=>[g(_,{size:"large",modelValue:n.value.agree,"onUpdate:modelValue":l[2]||(l[2]=f=>n.value.agree=f)},{default:I(()=>[...l[5]||(l[5]=[L(" æˆ‘å·²åŒæ„éšç§æ¡æ¬¾å’ŒæœåŠ¡æ¡æ¬¾ ",-1)])]),_:1},8,["modelValue"])]),_:1}),g(y,{size:"large",class:"subBtn",onClick:d},{default:I(()=>[...l[6]||(l[6]=[L("ç‚¹å‡»ç™»å½•",-1)])]),_:1})]),_:1},8,["model"])])])])]),l[8]||(l[8]=tt('<footer class="login-footer" data-v-447ac3fe><div class="container" data-v-447ac3fe><p data-v-447ac3fe><a href="javascript:;" data-v-447ac3fe>å…³äºæˆ‘ä»¬</a><a href="javascript:;" data-v-447ac3fe>å¸®åŠ©ä¸­å¿ƒ</a><a href="javascript:;" data-v-447ac3fe>å”®åæœåŠ¡</a><a href="javascript:;" data-v-447ac3fe>é…é€ä¸éªŒæ”¶</a><a href="javascript:;" data-v-447ac3fe>å•†åŠ¡åˆä½œ</a><a href="javascript:;" data-v-447ac3fe>æœç´¢æ¨è</a><a href="javascript:;" data-v-447ac3fe>å‹æƒ…é“¾æ¥</a></p><p data-v-447ac3fe>CopyRight Â© å°å…”é²œå„¿</p></div></footer>',1))])}}},Rt=P(qt,[["__scopeId","data-v-447ac3fe"]]),Bt={class:"app-topnav"},Gt={class:"container"},Qt={href:"javascript:;"},Zt=O({__name:"LayoutNav",setup(s){const t=H(),a=()=>{t.logout(),S.success("å·²é€€å‡ºç™»å½•")};return(n,o)=>{const c=Ct,d=R("router-link");return r(),i("nav",Bt,[e("div",Gt,[e("ul",null,[j(t).isLogin?(r(),i(M,{key:0},[e("li",null,[e("a",Qt,[o[1]||(o[1]=e("i",{class:"iconfont icon-user"},null,-1)),L(m(j(t).userInfo?.account),1)])]),e("li",null,[g(c,{title:"ç¡®è®¤é€€å‡ºå—?","confirm-button-text":"ç¡®è®¤","cancel-button-text":"å–æ¶ˆ",onConfirm:a,"<!--":"",æ·»åŠ ç¡®è®¤é€€å‡ºçš„äº‹ä»¶å¤„ç†:"","--":""},{reference:I(()=>[...o[2]||(o[2]=[e("a",{href:"javascript:;"},"é€€å‡ºç™»å½•",-1)])]),default:I(()=>[o[3]||(o[3]=L(" > ",-1))]),_:1})]),o[5]||(o[5]=e("li",null,[e("a",{href:"javascript:;"},"æˆ‘çš„è®¢å•")],-1)),e("li",null,[g(d,{to:"/Cart"},{default:I(()=>[...o[4]||(o[4]=[L("æˆ‘çš„è´­ç‰©è½¦",-1)])]),_:1})])],64)):(r(),i(M,{key:1},[e("li",null,[e("a",{href:"javascript:;",onClick:o[0]||(o[0]=v=>n.$router.push("/login"))},"è¯·å…ˆç™»å½•")]),o[6]||(o[6]=e("li",null,[e("a",{href:"javascript:;"},"å¸®åŠ©ä¸­å¿ƒ")],-1)),o[7]||(o[7]=e("li",null,[e("a",{href:"javascript:;"},"å…³äºæˆ‘ä»¬")],-1))],64))])])])}}}),Ot=P(Zt,[["__scopeId","data-v-642715b8"]]),Ht={},Yt={class:"app-header"},zt={class:"container"},Ft={class:"logo"},Wt={class:"app-header-nav"},Vt={class:"home"};function Ut(s,t){const a=R("RouterLink"),n=R("router-link");return r(),i("header",Yt,[e("div",zt,[e("h1",Ft,[g(a,{to:"/"},{default:I(()=>[...t[0]||(t[0]=[L("å°å…”é²œ",-1)])]),_:1})]),e("ul",Wt,[e("li",Vt,[g(a,{to:"/"},{default:I(()=>[...t[1]||(t[1]=[L("é¦–é¡µ",-1)])]),_:1})]),e("li",null,[g(a,{to:"/"},{default:I(()=>[...t[2]||(t[2]=[L("å±…å®¶",-1)])]),_:1})]),e("li",null,[g(a,{to:"/"},{default:I(()=>[...t[3]||(t[3]=[L("ç¾é£Ÿ",-1)])]),_:1})]),e("li",null,[g(a,{to:"/"},{default:I(()=>[...t[4]||(t[4]=[L("æœé¥°",-1)])]),_:1})]),e("li",null,[g(a,{to:"/"},{default:I(()=>[...t[5]||(t[5]=[L("æ¯å©´",-1)])]),_:1})]),e("li",null,[g(a,{to:"/"},{default:I(()=>[...t[6]||(t[6]=[L("æ‰‹æœº",-1)])]),_:1})]),e("li",null,[g(a,{to:"/"},{default:I(()=>[...t[7]||(t[7]=[L("ç¾å¦†",-1)])]),_:1})]),e("li",null,[g(a,{to:"/"},{default:I(()=>[...t[8]||(t[8]=[L("ç”µè„‘",-1)])]),_:1})]),e("li",null,[g(a,{to:"/"},{default:I(()=>[...t[9]||(t[9]=[L("é¥°å“",-1)])]),_:1})]),e("li",null,[g(a,{to:"/"},{default:I(()=>[...t[10]||(t[10]=[L("åŒ»è¯",-1)])]),_:1})])]),t[12]||(t[12]=e("div",{class:"search"},[e("i",{class:"iconfont icon-search"}),e("input",{type:"text",placeholder:"æœä¸€æœ"})],-1)),g(n,{to:"/Cart"},{default:I(()=>[...t[11]||(t[11]=[e("i",{class:"iconfont icon-gouwuche",style:{"font-size":"24px"}},null,-1)])]),_:1})])])}const Jt=P(Ht,[["render",Ut],["__scopeId","data-v-56e42bed"]]),Xt="/assets/qrcode-orqZiaKR.jpg",Kt={},te={class:"app_footer"};function ee(s,t){return r(),i("footer",te,[...t[0]||(t[0]=[tt('<div class="contact" data-v-fc83cb7a><div class="container" data-v-fc83cb7a><dl data-v-fc83cb7a><dt data-v-fc83cb7a>å®¢æˆ·æœåŠ¡</dt><dd data-v-fc83cb7a><i class="iconfont icon-kefu" data-v-fc83cb7a></i> åœ¨çº¿å®¢æœ</dd><dd data-v-fc83cb7a><i class="iconfont icon-question" data-v-fc83cb7a></i> é—®é¢˜åé¦ˆ</dd></dl><dl data-v-fc83cb7a><dt data-v-fc83cb7a>å…³æ³¨æˆ‘ä»¬</dt><dd data-v-fc83cb7a><i class="iconfont icon-weixin" data-v-fc83cb7a></i> å…¬ä¼—å·</dd><dd data-v-fc83cb7a><i class="iconfont icon-weibo" data-v-fc83cb7a></i> å¾®åš</dd></dl><dl data-v-fc83cb7a><dt data-v-fc83cb7a>ä¸‹è½½APP</dt><dd class="qrcode" data-v-fc83cb7a><img src="'+Xt+'" data-v-fc83cb7a></dd><dd class="download" data-v-fc83cb7a><span data-v-fc83cb7a>æ‰«æäºŒç»´ç </span><span data-v-fc83cb7a>ç«‹é©¬ä¸‹è½½APP</span><a href="javascript:;" data-v-fc83cb7a>ä¸‹è½½é¡µé¢</a></dd></dl><dl data-v-fc83cb7a><dt data-v-fc83cb7a>æœåŠ¡çƒ­çº¿</dt><dd class="hotline" data-v-fc83cb7a>400-0000-000 <small data-v-fc83cb7a>å‘¨ä¸€è‡³å‘¨æ—¥ 8:00-18:00</small></dd></dl></div></div><div class="extra" data-v-fc83cb7a><div class="container" data-v-fc83cb7a><div class="slogan" data-v-fc83cb7a><a href="javascript:;" data-v-fc83cb7a><i class="iconfont icon-footer01" data-v-fc83cb7a></i><span data-v-fc83cb7a>ä»·æ ¼äº²æ°‘</span></a><a href="javascript:;" data-v-fc83cb7a><i class="iconfont icon-footer02" data-v-fc83cb7a></i><span data-v-fc83cb7a>ç‰©æµå¿«æ·</span></a><a href="javascript:;" data-v-fc83cb7a><i class="iconfont icon-footer03" data-v-fc83cb7a></i><span data-v-fc83cb7a>å“è´¨æ–°é²œ</span></a></div><div class="copyright" data-v-fc83cb7a><p data-v-fc83cb7a><a href="javascript:;" data-v-fc83cb7a>å…³äºæˆ‘ä»¬</a><a href="javascript:;" data-v-fc83cb7a>å¸®åŠ©ä¸­å¿ƒ</a><a href="javascript:;" data-v-fc83cb7a>å”®åæœåŠ¡</a><a href="javascript:;" data-v-fc83cb7a>é…é€ä¸éªŒæ”¶</a><a href="javascript:;" data-v-fc83cb7a>å•†åŠ¡åˆä½œ</a><a href="javascript:;" data-v-fc83cb7a>æœç´¢æ¨è</a><a href="javascript:;" data-v-fc83cb7a>å‹æƒ…é“¾æ¥</a></p><p data-v-fc83cb7a>vueç”µå•†å¹³å°</p></div></div></div>',2)])])}const se=P(Kt,[["render",ee],["__scopeId","data-v-fc83cb7a"]]),ae={__name:"index",setup(s){return(t,a)=>(r(),i(M,null,[g(Ot),g(Jt),g(j(K)),g(se)],64))}},oe=P(ae,[["__scopeId","data-v-3273831f"]]);class ne{constructor(){this.allProducts=[],this.categories=[],this.categoryGoodsMap={},this.loaded=!1,this.productMap={}}async loadAllData(){if(!this.loaded)try{const a=(await V.get("/goods.json")).data;console.log("åŸå§‹æ•°æ®:",a),this.allProducts=[],this.categories=[],this.categoryGoodsMap={},this.productMap={},a.list&&Array.isArray(a.list)&&a.list.forEach(n=>{const o={id:n.id,name:n.name,children:n.children||[]};this.categories.push(o),n.goods&&Array.isArray(n.goods)&&(this.categoryGoodsMap[n.id]=n.goods,n.goods.forEach(c=>{const d={...c,categoryId:n.id,categoryName:n.name,dataSource:"list"};this.productMap[c.id]||(this.allProducts.push(d),this.productMap[c.id]=d)}))}),a.products&&Array.isArray(a.products)&&a.products.forEach(n=>{const o={...n,dataSource:"products"};this.productMap[n.id]||(this.allProducts.push(o),this.productMap[n.id]=o)}),this.loaded=!0,console.log("æ•°æ®åŠ è½½å®Œæˆ",{categories:this.categories.length,totalProducts:this.allProducts.length})}catch(t){console.error("åŠ è½½å•†å“æ•°æ®å¤±è´¥:",t),this.allProducts=[],this.categories=[],this.loaded=!0}}getProductById(t){const a=Number(t);return this.productMap[a]||null}getCategories(){return this.categories}getGoodsByCategoryId(t){return this.categoryGoodsMap[t]||[]}getAllProducts(){return this.allProducts}getNewProducts(){return this.allProducts.filter(t=>t.dataSource==="products")}getProductsByCategoryName(t){const a=this.categories.find(n=>n.name===t);return a?this.getGoodsByCategoryId(a.id):[]}isLoaded(){return this.loaded}}const q=new ne,re={class:"home-category"},ie={class:"menu"},le={key:0,class:"loading"},ce=["onClick"],de={class:"layer"},ue=["onClick"],ve={class:"image-container"},me=["alt","onLoad"],pe={key:0,class:"loading-placeholder"},fe={class:"info"},ge={class:"name ellipsis-2"},_e={class:"desc ellipsis"},he={class:"price"},ye={__name:"HomeCategory",setup(s){const t=Q(),a=k([]),n=k(!0),o=k({}),c=async()=>{try{n.value=!0,await q.loadAllData();const $=q.getCategories();$&&$.length>0?a.value=$:a.value=[{id:1,name:"å±…å®¶",children:["åºŠä¸Šç”¨å“","å®¶å…·","æ”¶çº³"]}]}catch($){console.error("è·å–åˆ†ç±»æ•°æ®å¤±è´¥:",$),a.value=[{id:1,name:"å±…å®¶",children:["åºŠä¸Šç”¨å“","å®¶å…·"]}]}finally{n.value=!1}},d=($,C,_)=>{console.log(`ç‚¹å‡»äº† ${C} - ${_}`);const y=q.getGoodsByCategoryId($);if(y&&y.length>0){const p=y[0];t.push(`/product/${p.id}`)}else alert("è¯¥åˆ†ç±»ä¸‹æš‚æ— å•†å“")},v=$=>{console.log(`ç‚¹å‡»äº†å•†å“ ID: ${$}`),t.push(`/product/${$}`)},l=$=>{o.value[$]=!0},h=$=>{const C=q.getGoodsByCategoryId($)||[];return C.forEach(_=>{o.value[_.id]||(o.value[_.id]=!1)}),C};return B(()=>{c()}),($,C)=>{const _=R("RouterLink"),y=F("lazy");return r(),i("div",re,[e("ul",ie,[n.value?(r(),i("li",le," åŠ è½½ä¸­... ")):b("",!0),(r(!0),i(M,null,D(a.value,p=>(r(),i("li",{key:p.id},[g(_,{to:"/category"},{default:I(()=>[L(m(p.name),1)]),_:2},1024),(r(!0),i(M,null,D(p.children,f=>(r(),i("a",{key:f,href:"javascript:;",onClick:T=>d(p.id,p.name,f),class:"sub-category-link"},m(f),9,ce))),128)),e("div",de,[C[1]||(C[1]=e("h4",null,[L("åˆ†ç±»æ¨è "),e("small",null,"æ ¹æ®æ‚¨çš„è´­ä¹°æˆ–æµè§ˆè®°å½•æ¨è")],-1)),e("ul",null,[(r(!0),i(M,null,D(h(p.id),f=>(r(),i("li",{key:f.id},[e("a",{href:"javascript:;",onClick:T=>v(f.id),class:"product-link"},[e("div",ve,[z(e("img",{alt:f.name,onLoad:T=>l(f.id)},null,40,me),[[y,f.picture]]),o.value[f.id]?b("",!0):(r(),i("div",pe))]),e("div",fe,[e("p",ge,m(f.name),1),e("p",_e,m(f.desc),1),e("p",he,[C[0]||(C[0]=e("i",null,"Â¥",-1)),L(m(f.price.toFixed(2)),1)])])],8,ue)]))),128))])])]))),128))])])}}},be=P(ye,[["__scopeId","data-v-1fa11ada"]]),Y=W("cart",{state:()=>({cartItems:[],shipping:0,discount:0}),getters:{totalItems:s=>s.cartItems.reduce((t,a)=>t+a.quantity,0),subtotal:s=>s.cartItems.reduce((t,a)=>t+a.price*a.quantity,0),total(){return this.subtotal+this.shipping-this.discount},isEmpty:s=>s.cartItems.length===0},actions:{loadFromLocalStorage(){try{const s=localStorage.getItem("shopping_cart");if(s){const t=JSON.parse(s);this.cartItems=t.cartItems||[],this.shipping=t.shipping||0,this.discount=t.discount||0}}catch(s){console.error("åŠ è½½è´­ç‰©è½¦æ•°æ®å¤±è´¥:",s),this.cartItems=[]}},saveToLocalStorage(){try{const s={cartItems:this.cartItems,shipping:this.shipping,discount:this.discount,lastUpdated:new Date().toISOString()};localStorage.setItem("shopping_cart",JSON.stringify(s))}catch(s){console.error("ä¿å­˜è´­ç‰©è½¦æ•°æ®å¤±è´¥:",s)}},addToCart(s,t=1){const a=this.cartItems.find(n=>n.id===s.id);if(a){const n=a.quantity+t;if(s.stock&&n>s.stock)throw new Error(`åº“å­˜ä¸è¶³ï¼Œå½“å‰åº“å­˜ä¸º${s.stock}ä»¶`);if(s.maxPurchase&&n>s.maxPurchase)throw new Error(`è¯¥å•†å“æœ€å¤šåªèƒ½è´­ä¹°${s.maxPurchase}ä»¶`);a.quantity=n}else{if(s.stock&&t>s.stock)throw new Error(`åº“å­˜ä¸è¶³ï¼Œå½“å‰åº“å­˜ä¸º${s.stock}ä»¶`);if(s.maxPurchase&&t>s.maxPurchase)throw new Error(`è¯¥å•†å“æœ€å¤šåªèƒ½è´­ä¹°${s.maxPurchase}ä»¶`);this.cartItems.push({...s,quantity:t})}this.saveToLocalStorage()},increaseQuantity(s){const t=this.cartItems.find(a=>a.id===s);if(t){if(t.stock&&t.quantity>=t.stock)throw new Error("åº“å­˜ä¸è¶³ï¼Œæ— æ³•å¢åŠ æ•°é‡");if(t.maxPurchase&&t.quantity>=t.maxPurchase)throw new Error(`è¯¥å•†å“æœ€å¤šåªèƒ½è´­ä¹°${t.maxPurchase}ä»¶`);t.quantity++,this.saveToLocalStorage()}},decreaseQuantity(s){const t=this.cartItems.find(a=>a.id===s);t&&(t.quantity>1?(t.quantity--,this.saveToLocalStorage()):this.removeFromCart(s))},updateQuantity(s,t){const a=this.cartItems.find(n=>n.id===s);if(a){if(t<1){this.removeFromCart(s);return}if(a.stock&&t>a.stock)throw new Error(`åº“å­˜ä¸è¶³ï¼Œå½“å‰åº“å­˜ä¸º${a.stock}ä»¶`);if(a.maxPurchase&&t>a.maxPurchase)throw new Error(`è¯¥å•†å“æœ€å¤šåªèƒ½è´­ä¹°${a.maxPurchase}ä»¶`);a.quantity=t,this.saveToLocalStorage()}},removeFromCart(s){this.cartItems=this.cartItems.filter(t=>t.id!==s),this.saveToLocalStorage()},clearCart(){this.cartItems=[],this.saveToLocalStorage()},isInCart(s){return this.cartItems.some(t=>t.id===s)},getItemQuantity(s){const t=this.cartItems.find(a=>a.id===s);return t?t.quantity:0}}}),Ie={class:"goods-image"},$e=["src","alt"],ke={class:"goods-info"},Ce={class:"goods-name"},we={class:"goods-desc"},Le={class:"goods-price"},Pe={class:"price"},xe=["disabled"],Me={key:0},je={key:1,class:"loading-spinner"},Se={__name:"GoodsItem",props:{product:{type:Object,required:!0}},setup(s){const t=s,a=Y(),n=Q(),o=k(!1),c=async()=>{if(t.product){o.value=!0;try{await a.addToCart(t.product,1),S({message:`"${t.product.name}" å·²æˆåŠŸæ·»åŠ åˆ°è´­ç‰©è½¦`,type:"success",duration:2e3,showClose:!0,offset:80}),console.log(`æˆåŠŸæ·»åŠ  "${t.product.name}" åˆ°è´­ç‰©è½¦`)}catch(v){console.error("æ·»åŠ è´­ç‰©è½¦å¤±è´¥:",v),S({message:"æ·»åŠ å•†å“å¤±è´¥ï¼Œè¯·é‡è¯•",type:"error",duration:2e3,showClose:!0})}finally{o.value=!1}}},d=()=>{n.push(`/product/${t.product.id}`)};return(v,l)=>(r(),i("div",{class:"goods-item",onClick:d},[e("div",Ie,[e("img",{src:s.product.picture,alt:s.product.name},null,8,$e)]),e("div",ke,[e("h3",Ce,m(s.product.name),1),e("p",we,m(s.product.description),1),e("div",Le,[e("span",Pe,"Â¥"+m(s.product.price),1),e("button",{class:"add-cart-btn",onClick:ut(c,["stop"]),disabled:o.value},[o.value?(r(),i("span",je,"â—")):(r(),i("span",Me,"+"))],8,xe)])])]))}},Te=P(Se,[["__scopeId","data-v-787547c1"]]),De="/assets/222-qdFkonWe.jpg",U=V.create({baseURL:"",timeout:1e4});U.interceptors.request.use(s=>{const a=H().token;return a&&(s.headers.Authorization=`Bearer ${a}`),s},s=>Promise.reject(s));U.interceptors.response.use(s=>s,s=>{if(s.response)switch(s.response.status){case 401:H().logout(),S.error("ç™»å½•å·²è¿‡æœŸï¼Œè¯·é‡æ–°ç™»å½•"),st.push("/login");break;case 403:S.error("æ‹’ç»è®¿é—®");break;case 404:S.error("è¯·æ±‚èµ„æºä¸å­˜åœ¨");break;case 500:S.error("æœåŠ¡å™¨å†…éƒ¨é”™è¯¯");break;default:S.error(s.response.data?.message||"è¯·æ±‚é”™è¯¯")}else S.error("ç½‘ç»œé”™è¯¯ï¼Œè¯·æ£€æŸ¥ç½‘ç»œè¿æ¥");return Promise.reject(s)});const Ae=W("product",()=>{const s=k([]),t=k(null),a=k(!1),n=k(null);return{productList:s,currentProduct:t,loading:a,error:n,featuredProducts:()=>s.value.slice(0,4),fetchProducts:async()=>{a.value=!0,n.value=null;try{console.log("å¼€å§‹è·å–å•†å“æ•°æ®...");const h=(await U.get("/goods.json")).data;if(console.log("è·å–åˆ°çš„æ•°æ®:",h),h&&h.products)s.value=h.products,console.log("æˆåŠŸè®¾ç½®å•†å“åˆ—è¡¨:",s.value.length);else throw new Error("æ•°æ®æ ¼å¼ä¸æ­£ç¡®: ç¼ºå°‘ products å­—æ®µ")}catch(l){console.error("è·å–å•†å“æ•°æ®å¤±è´¥:",l),n.value="è·å–å•†å“æ•°æ®å¤±è´¥ï¼Œè¯·ç¨åé‡è¯•ã€‚"}finally{a.value=!1}},findProductById:l=>s.value.find(h=>h.id===l),setCurrentProduct:l=>{t.value=l}}}),Ee={class:"home"},Ne={class:"category-nav"},qe={class:"category-icon"},Re={class:"category-name"},Be={key:0,class:"loading-state"},Ge={key:1,class:"error-state"},Qe={class:"product-section"},Ze={class:"products-grid"},Oe={class:"product-section"},He={class:"products-grid"},Ye=O({__name:"HomeProduct",setup(s){const t=Ae(),a=Y(),n=Q(),o=A(()=>t.loading),c=A(()=>t.error),d=A(()=>t.productList),v=A(()=>{const p=t.featuredProducts();return Array.isArray(p)?p:[]}),l=p=>p?.id||Math.random().toString(36).substr(2,9);B(()=>{d.value.length===0&&t.fetchProducts()});const h=["è”¬èœ","æ°´æœ","è‚‰ç±»","ç²®æ²¹","å¥¶åˆ¶å“","é›¶é£Ÿ"],$=p=>({è”¬èœ:"ğŸ¥¬",æ°´æœ:"ğŸ",è‚‰ç±»:"ğŸ¥©",ç²®æ²¹:"ğŸš",å¥¶åˆ¶å“:"ğŸ¥›",é›¶é£Ÿ:"ğŸª"})[p]||"ğŸ›’",C=p=>{t.setCurrentProduct(p),n.push(`/product/${p.id}`)},_=p=>{a.addToCart(p)},y=()=>{t.fetchProducts()};return(p,f)=>{const T=Te;return r(),i("div",Ee,[f[3]||(f[3]=e("div",{class:"banner"},[e("img",{src:De,alt:"å°å…”é²œä¿ƒé”€æ¨ªå¹…"})],-1)),e("div",Ne,[(r(),i(M,null,D(h,x=>e("div",{class:"category-item",key:x},[e("span",qe,m($(x)),1),e("span",Re,m(x),1)])),64))]),o.value?(r(),i("div",Be,[...f[0]||(f[0]=[e("div",{class:"loading-spinner"},null,-1),e("p",null,"å•†å“åŠ è½½ä¸­...",-1)])])):c.value?(r(),i("div",Ge,[e("p",null,m(c.value),1),e("button",{onClick:y,class:"retry-btn"},"é‡è¯•")])):(r(),i(M,{key:2},[e("div",Qe,[f[1]||(f[1]=e("h2",{class:"section-title"},"æ–°é²œå¥½ç‰©",-1)),e("div",Ze,[(r(!0),i(M,null,D(v.value,x=>(r(),E(T,{key:l(x),product:x,onItemClick:N=>C(x),onAddToCart:N=>_(x)},null,8,["product","onItemClick","onAddToCart"]))),128))])]),e("div",Oe,[f[2]||(f[2]=e("h2",{class:"section-title"},"çƒ­é—¨å•†å“",-1)),e("div",He,[(r(!0),i(M,null,D(d.value.slice(4),x=>(r(),E(T,{key:l(x),product:x,onItemClick:N=>C(x),onAddToCart:N=>_(x)},null,8,["product","onItemClick","onAddToCart"]))),128))])])],64))])}}}),ze=P(Ye,[["__scopeId","data-v-3ad8866d"]]),Fe={class:"home-banner"},We={key:0,class:"loading"},Ve=["src"],Ue={__name:"HomeBanner",setup(s){const t=k([]),a=k(!0),n=async()=>{try{a.value=!0;const o=await V.get("/goods.json");o.data.Banner&&o.data.Banner.length>0?t.value=o.data.Banner:t.value=[{picture:"https://bpic.588ku.com/templet_pic/24/07/29/248e4d2449e3c57163547b6ad600487d.jpg!/fw/750/quality/90/unsharp/true/compress/true"},{picture:"https://via.placeholder.com/1224x500/4ecdc4/ffffff?text=Banner2"}]}catch(o){console.error("è·å–è½®æ’­å›¾æ•°æ®å¤±è´¥:",o),t.value=[{picture:"https://bpic.588ku.com/templet_pic/24/07/29/248e4d2449e3c57163547b6ad600487d.jpg!/fw/750/quality/90/unsharp/true/compress/true"}]}finally{a.value=!1}};return B(()=>{n()}),(o,c)=>(r(),i("div",Fe,[a.value?(r(),i("div",We," è½®æ’­å›¾åŠ è½½ä¸­... ")):(r(),E(j(wt),{key:1,height:"500px",interval:4e3,"indicator-position":"outside"},{default:I(()=>[(r(!0),i(M,null,D(t.value,(d,v)=>(r(),E(j(Lt),{key:v},{default:I(()=>[e("img",{src:d.picture},null,8,Ve)]),_:2},1024))),128))]),_:1}))]))}},Je=P(Ue,[["__scopeId","data-v-7dcf5b6e"]]),Xe={class:"container"},Ke={__name:"index",setup(s){return(t,a)=>(r(),i(M,null,[e("div",Xe,[g(be),g(Je)]),g(ze)],64))}},ts={};function es(s,t){return" æˆ‘æ˜¯åˆ†ç±» "}const ss=P(ts,[["render",es]]),as={class:"product-detail-page"},os={class:"detail-header"},ns={class:"header-actions"},rs={key:0,class:"cart-count"},is={key:0,class:"loading"},ls={key:1,class:"error"},cs={key:2,class:"detail-content"},ds={class:"product-gallery"},us=["alt"],vs={key:0,class:"loading-placeholder"},ms={class:"product-info"},ps={class:"product-title"},fs={class:"product-desc"},gs={class:"price-quantity-section"},_s={class:"price-rating"},hs={class:"current-price"},ys={key:0,class:"product-rating"},bs={class:"rating-value"},Is={class:"quantity-control-wrapper"},$s={class:"quantity-control"},ks=["disabled"],Cs={class:"quantity"},ws=["disabled"],Ls={key:0,class:"quantity-hint"},Ps={key:0,class:"stock-info"},xs={key:1,class:"success-message"},Ms={class:"detail-tabs"},js=["onClick"],Ss={class:"tab-content"},Ts={key:0},Ds={key:1},As={class:"spec-table"},Es={key:0},Ns={key:2},qs={key:0,class:"review-summary"},Rs={class:"overall-rating"},Bs={class:"rating-score"},Gs={key:3,class:"detail-footer"},Qs=["disabled"],Zs={key:0},Os={key:1},Hs=["disabled"],Ys={__name:"index",setup(s){const t=vt(),a=Q(),n=Y(),o=k({}),c=k(1),d=k("detail"),v=k(!0),l=k(!1),h=k(!1),$=k(!1),C=k(!1),_=[{id:"detail",label:"å•†å“è¯¦æƒ…"},{id:"spec",label:"è§„æ ¼å‚æ•°"},{id:"review",label:"ç”¨æˆ·è¯„ä»·"}],y={vegetables:"è”¬èœ",fruits:"æ°´æœ",grains:"è°·ç‰©",eggs:"è›‹ç±»"},p=A(()=>n.totalItems),f=A(()=>o.value.stock||30),T=()=>{c.value<f.value&&(c.value+=1)},x=()=>{c.value>1&&(c.value-=1)},N=async()=>{if(o.value){h.value=!0;try{await n.addToCart(o.value,c.value),$.value=!0,setTimeout(()=>{$.value=!1},3e3),console.log(`æˆåŠŸæ·»åŠ  ${c.value} ä»¶ "${o.value.name}" åˆ°è´­ç‰©è½¦`)}catch(w){alert(w.message||"æ·»åŠ å•†å“å¤±è´¥ï¼Œè¯·é‡è¯•"),console.error("æ·»åŠ è´­ç‰©è½¦å¤±è´¥:",w)}finally{h.value=!1}}},ot=()=>{N().then(()=>{a.push("/cart")})},nt=()=>{a.push("/cart")},rt=w=>y[w]||w,it=()=>{C.value=!0,console.log("å•†å“å›¾ç‰‡åŠ è½½æˆåŠŸ")},lt=w=>{console.error("å•†å“å›¾ç‰‡åŠ è½½å¤±è´¥:",w),C.value=!0;const u=w.target;u.src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTAwIiBoZWlnaHQ9IjQwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSIjZjBmMGYwIi8+PHRleHQgeD0iNTAlIiB5PSI1MCUiIGZvbnQtc2l6ZT0iMTgiIGZpbGw9IiM5OTk5OTkiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGR5PSIuM2VtIj7lm77niYfpnZ7lu7o8L3RleHQ+PC9zdmc+"},J=w=>w?w.startsWith("http")||w.startsWith("/")||w.startsWith("./")?w:`/${w}`:(console.warn("å›¾ç‰‡è·¯å¾„ä¸ºç©º"),""),ct=async w=>{v.value=!0,l.value=!1,C.value=!1;try{await q.loadAllData();const u=q.getProductById(w);if(u)o.value=u,o.value.maxPurchase=Math.min(o.value.stock||30,30),console.log("åŠ è½½çš„å•†å“æ•°æ®:",o.value),console.log("å•†å“å›¾ç‰‡è·¯å¾„:",o.value.picture),console.log("å¤„ç†åçš„å›¾ç‰‡è·¯å¾„:",J(o.value.picture));else throw new Error("æœªæ‰¾åˆ°è¯¥å•†å“")}catch(u){console.error("åŠ è½½å•†å“å¤±è´¥:",u),l.value=!0}finally{v.value=!1}};return B(()=>{n.loadFromLocalStorage();const w=Number(t.params.id);w?ct(w):(l.value=!0,v.value=!1)}),(w,u)=>{const dt=F("lazy");return r(),i("div",as,[e("header",os,[e("button",{onClick:u[0]||(u[0]=G=>w.$router.back()),class:"back-btn"},"â† è¿”å›"),u[4]||(u[4]=e("h1",null,"å•†å“è¯¦æƒ…",-1)),e("div",ns,[u[2]||(u[2]=e("button",null,"åˆ†äº«",-1)),u[3]||(u[3]=e("button",null,"æ”¶è—",-1)),e("div",{class:"cart-indicator",onClick:nt},[u[1]||(u[1]=L(" ğŸ›’ ",-1)),p.value>0?(r(),i("span",rs,m(p.value),1)):b("",!0)])])]),v.value?(r(),i("div",is,[...u[5]||(u[5]=[e("p",null,"æ­£åœ¨åŠ è½½å•†å“ä¿¡æ¯...",-1)])])):b("",!0),l.value?(r(),i("div",ls,[...u[6]||(u[6]=[e("p",null,"åŠ è½½å•†å“ä¿¡æ¯å¤±è´¥ï¼Œè¯·åˆ·æ–°é¡µé¢é‡è¯•",-1)])])):b("",!0),!v.value&&!l.value&&o.value.id?(r(),i("main",cs,[e("div",ds,[z(e("img",{alt:o.value.name,class:"main-image",onLoad:it,onError:lt},null,40,us),[[dt,J(o.value.picture)]]),C.value?b("",!0):(r(),i("div",vs))]),e("div",ms,[e("h2",ps,m(o.value.name),1),e("p",fs,m(o.value.description||o.value.desc),1),e("div",gs,[e("div",_s,[e("span",hs,"Â¥"+m(o.value.price?.toFixed(2)),1),o.value.rating?(r(),i("div",ys,[u[7]||(u[7]=e("span",{class:"rating-stars"},"â˜…â˜…â˜…â˜…â˜…",-1)),e("span",bs,m(o.value.rating),1)])):b("",!0)]),e("div",Is,[e("div",$s,[e("button",{onClick:x,disabled:c.value<=1},"-",8,ks),e("span",Cs,m(c.value),1),e("button",{onClick:T,disabled:c.value>=f.value},"+",8,ws)]),c.value>=f.value?(r(),i("div",Ls," å·²è¾¾æœ€å¤§è´­ä¹°æ•°é‡ ")):b("",!0)])]),o.value.stock!==void 0?(r(),i("div",Ps," åº“å­˜: "+m(o.value.stock)+"ä»¶ ",1)):b("",!0),$.value?(r(),i("div",xs," âœ… å•†å“å·²æˆåŠŸæ·»åŠ åˆ°è´­ç‰©è½¦ï¼ ")):b("",!0)]),e("div",Ms,[(r(),i(M,null,D(_,G=>e("button",{key:G.id,class:et(["tab-btn",{active:d.value===G.id}]),onClick:Qa=>d.value=G.id},m(G.label),11,js)),64))]),e("div",Ss,[d.value==="detail"?(r(),i("div",Ts,[u[8]||(u[8]=e("h3",null,"å•†å“è¯¦æƒ…",-1)),e("p",null,m(o.value.description||o.value.desc),1),e("p",null,"è¿™æ˜¯ä¸€æ¬¾ä¼˜è´¨çš„"+m(o.value.name)+"ï¼Œä¿è¯å“è´¨ã€‚",1)])):b("",!0),d.value==="spec"?(r(),i("div",Ds,[u[14]||(u[14]=e("h3",null,"è§„æ ¼å‚æ•°",-1)),e("table",As,[e("tr",null,[u[9]||(u[9]=e("td",{class:"spec-label"},"å•†å“åç§°",-1)),e("td",null,m(o.value.name),1)]),e("tr",null,[u[10]||(u[10]=e("td",{class:"spec-label"},"å•†å“åˆ†ç±»",-1)),e("td",null,m(rt(o.value.category)||o.value.categoryName),1)]),e("tr",null,[u[11]||(u[11]=e("td",{class:"spec-label"},"ä»·æ ¼",-1)),e("td",null,"Â¥"+m(o.value.price?.toFixed(2)),1)]),e("tr",null,[u[12]||(u[12]=e("td",{class:"spec-label"},"åº“å­˜",-1)),e("td",null,m(o.value.stock||10)+"ä»¶",1)]),o.value.rating?(r(),i("tr",Es,[u[13]||(u[13]=e("td",{class:"spec-label"},"è¯„åˆ†",-1)),e("td",null,m(o.value.rating)+"åˆ†",1)])):b("",!0)])])):b("",!0),d.value==="review"?(r(),i("div",Ns,[u[17]||(u[17]=e("h3",null,"ç”¨æˆ·è¯„ä»·",-1)),o.value.rating?(r(),i("div",qs,[e("div",Rs,[e("span",Bs,m(o.value.rating),1),u[15]||(u[15]=e("div",{class:"rating-stars"},"â˜…â˜…â˜…â˜…â˜…",-1)),u[16]||(u[16]=e("span",{class:"rating-count"},"(æš‚æ— è¯„ä»·)",-1))])])):b("",!0),u[18]||(u[18]=e("div",{class:"no-reviews"},[e("p",null,"æš‚æ— ç”¨æˆ·è¯„ä»·"),e("p",null,"æˆä¸ºç¬¬ä¸€ä¸ªè¯„ä»·æ­¤å•†å“çš„äººå§ï¼")],-1))])):b("",!0)])])):b("",!0),!v.value&&!l.value&&o.value.id?(r(),i("footer",Gs,[e("button",{class:"cart-btn",onClick:N,disabled:h.value},[h.value?(r(),i("span",Os,"æ·»åŠ ä¸­...")):(r(),i("span",Zs,"åŠ å…¥è´­ç‰©è½¦"))],8,Qs),e("button",{class:"buy-btn",onClick:ot,disabled:h.value},[...u[19]||(u[19]=[e("span",null,"ç«‹å³è´­ä¹°",-1)])],8,Hs)])):b("",!0)])}}},X=P(Ys,[["__scopeId","data-v-77f5a96c"]]),zs={class:"cart-item"},Fs={class:"item-image"},Ws={class:"image-container"},Vs=["alt"],Us={key:0,class:"loading-placeholder"},Js={class:"item-details"},Xs={class:"item-name"},Ks={key:0,class:"item-category"},ta={class:"item-price"},ea={class:"quantity-control"},sa=["disabled"],aa=["value","max"],oa=["disabled"],na={class:"item-total"},ra={class:"total-price"},ia=O({__name:"CartItem",props:{item:{},index:{}},emits:["increase-quantity","decrease-quantity","remove-item","update-quantity"],setup(s){const t=mt({}),a={vegetables:"è”¬èœ",fruits:"æ°´æœ",grains:"è°·ç‰©",eggs:"è›‹ç±»"},n=d=>a[d]||d,o=d=>{t[d]=!0},c=d=>{const v=d.target;v.src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTUwIiBoZWlnaHQ9IjE1MCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSIjZjBmMGYwIi8+PHRleHQgeD0iNTAlIiB5PSI1MCUiIGZvbnQtc2l6ZT0iMTQiIGZpbGw9IiM5OTk5OTkiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGR5PSIuM2VtIj7lm77niYc8L3RleHQ+PC9zdmc+";const l=Object.keys(t).find(h=>t[Number(h)]===!1);l&&(t[Number(l)]=!0)};return B(()=>{}),(d,v)=>{const l=F("lazy");return r(),i("div",zs,[e("div",Fs,[e("div",Ws,[z(e("img",{alt:s.item.name,onLoad:v[0]||(v[0]=h=>o(s.item.id)),onError:c},null,40,Vs),[[l,s.item.picture]]),t[s.item.id]?b("",!0):(r(),i("div",Us))])]),e("div",Js,[e("h3",Xs,m(s.item.name),1),s.item.category?(r(),i("p",Ks,"åˆ†ç±»: "+m(n(s.item.category)),1)):b("",!0),e("p",ta,"å•ä»·: Â¥"+m(s.item.price.toFixed(2)),1)]),e("div",ea,[e("button",{onClick:v[1]||(v[1]=h=>d.$emit("decrease-quantity")),disabled:s.item.quantity<=1},"-",8,sa),e("input",{type:"number",value:s.item.quantity,onInput:v[2]||(v[2]=h=>d.$emit("update-quantity",parseInt(h.target?.value??"0")||1)),min:"1",max:s.item.stock||10},null,40,aa),e("button",{onClick:v[3]||(v[3]=h=>d.$emit("increase-quantity")),disabled:s.item.quantity>=(s.item.stock||10)},"+",8,oa)]),e("div",na,[e("p",ra,"Â¥"+m((s.item.price*s.item.quantity).toFixed(2)),1)]),e("button",{class:"remove-btn",onClick:v[4]||(v[4]=h=>d.$emit("remove-item"))}," åˆ é™¤ ")])}}}),la=P(ia,[["__scopeId","data-v-bea1c7fd"]]),ca={name:"CartSummary",props:{subtotal:Number,shipping:Number,discount:Number,total:Number,itemCount:Number,subtotal:{type:Number,required:!0,default:0},shipping:{type:Number,required:!0,default:0},discount:{type:Number,required:!0,default:0},total:{type:Number,required:!0,default:0}},computed:{getItemCount(){return 3}},methods:{handleCheckout(){S({message:"æ”¯ä»˜æˆåŠŸï¼",type:"success",duration:3e3,offset:100}),this.$emit("clear-cart-instant")}}},da={class:"cart-summary"},ua={class:"summary-content"},va={class:"summary-row"},ma={class:"row-label"},pa={class:"item-count"},fa={class:"row-value"},ga={class:"summary-row"},_a={class:"row-label"},ha={key:0,class:"shipping-info"},ya={key:0,class:"summary-row"},ba={class:"row-value discount"},Ia={class:"summary-row summary-total"},$a={class:"total-value"},ka={key:1,class:"savings-notice"};function Ca(s,t,a,n,o,c){return r(),i("div",da,[t[8]||(t[8]=e("div",{class:"summary-header"},[e("h3",{class:"summary-title"},"è®¢å•æ‘˜è¦"),e("div",{class:"summary-icon"},"ğŸ“‹")],-1)),e("div",ua,[e("div",va,[e("div",ma,[t[2]||(t[2]=e("span",null,"å•†å“å°è®¡",-1)),e("span",pa,"("+m(c.getItemCount)+"ä»¶å•†å“)",1)]),e("span",fa,"Â¥"+m(a.subtotal.toFixed(2)),1)]),e("div",ga,[e("div",_a,[t[3]||(t[3]=e("span",null,"è¿è´¹",-1)),a.shipping===0?(r(),i("span",ha,"(å…è¿è´¹)")):b("",!0)]),e("span",{class:et(["row-value",{"free-shipping":a.shipping===0}])},m(a.shipping===0?"å…è´¹":`Â¥${a.shipping.toFixed(2)}`),3)]),a.discount>0?(r(),i("div",ya,[t[4]||(t[4]=e("div",{class:"row-label"},[e("span",null,"ä¼˜æƒ "),e("span",{class:"discount-badge"},"å·²ä¼˜æƒ ")],-1)),e("span",ba,"-Â¥"+m(a.discount.toFixed(2)),1)])):b("",!0),t[6]||(t[6]=e("div",{class:"divider"},null,-1)),e("div",Ia,[t[5]||(t[5]=e("span",{class:"total-label"},"è®¢å•æ€»è®¡",-1)),e("span",$a,"Â¥"+m(a.total.toFixed(2)),1)]),a.discount>0?(r(),i("div",ka," æ‚¨å·²èŠ‚çœ Â¥"+m(a.discount.toFixed(2)),1)):b("",!0)]),e("button",{class:"checkout-btn",onClick:t[1]||(t[1]=(...d)=>c.handleCheckout&&c.handleCheckout(...d))},[e("span",{class:"btn-text",onClick:t[0]||(t[0]=(...d)=>s.clearCart&&s.clearCart(...d))},"å»ç»“ç®—"),t[7]||(t[7]=e("span",{class:"btn-arrow"},"â†’",-1))]),t[9]||(t[9]=e("div",{class:"secure-checkout"},[e("div",{class:"secure-icon"},"ğŸ”’"),e("span",null,"å®‰å…¨ç»“ç®— Â· éšç§ä¿æŠ¤")],-1))])}const wa=P(ca,[["render",Ca],["__scopeId","data-v-42324b97"]]),La={name:"EmptyCart"},Pa={class:"empty-cart"};function xa(s,t,a,n,o,c){const d=R("router-link");return r(),i("div",Pa,[t[1]||(t[1]=e("img",{src:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyNTYgMjU2Ij48cmVjdCB3aWR0aD0iMjU2IiBoZWlnaHQ9IjI1NiIgZmlsbD0iI2Y1ZjVmNSIvPjxwYXRoIGQ9Ik0xMjgsMzJhOTYsOTYsMCwxLDAsOTYsOTZBOTYuMTEsOTYuMTEsMCwwLDAsMTI4LDMyWm0wLDE2YTgwLDgwLDAsMSwxLTgwLTgwQTgwLjA5LDgwLjA5LDAsMCwxLDEyOCw0OFoiIGZpbGw9IiNkZGQiLz48cGF0aCBkPSJNMTY4LDcySDg4YTgsOCwwLDAsMCwwLDE2aDgwYTgsOCwwLDAsMCwwLTE2WiIgZmlsbD0iI2RkZCIvPjxwYXRoIGQ9Ik0xNzYsMTEySDgwYTgsOCwwLDAsMCwwLDE2aDk2YTgsOCwwLDAsMCwwLTE2WiIgZmlsbD0iI2RkZCIvPjxwYXRoIGQ9Ik0xNjAsMTUySDk2YTgsOCwwLDAsMCwwLDE2aDY0YTgsOCwwLDAsMCwwLTE2WiIgZmlsbD0iI2RkZCIvPjwvc3ZnPg==",alt:"ç©ºè´­ç‰©è½¦"},null,-1)),t[2]||(t[2]=e("h3",null,"æ‚¨çš„è´­ç‰©è½¦æ˜¯ç©ºçš„",-1)),t[3]||(t[3]=e("p",null,"å¿«å»æŒ‘é€‰ä¸€äº›å¿ƒä»ªçš„å•†å“å§",-1)),g(d,{to:"/",class:"continue-shopping"},{default:I(()=>[...t[0]||(t[0]=[L("å‰å¾€è´­ç‰©",-1)])]),_:1})])}const Ma=P(La,[["render",xa],["__scopeId","data-v-7ce95bcd"]]),ja={id:"app"},Sa={class:"container"},Ta={class:"header"},Da={key:0,class:"cart-stats"},Aa={key:0,class:"loading"},Ea={key:1,class:"error"},Na={key:2,class:"cart-container"},qa={class:"cart-items"},Ra=O({__name:"index",setup(s){const t=Y(),a=k(!1),n=k(!1),o=_=>{try{t.increaseQuantity(_)}catch(y){alert(y.message)}},c=_=>{try{t.decreaseQuantity(_)}catch(y){alert(y.message)}},d=(_,y)=>{try{t.updateQuantity(_,y)}catch(p){alert(p.message)}},v=_=>{confirm("ç¡®å®šè¦åˆ é™¤è¿™ä¸ªå•†å“å—ï¼Ÿ")&&t.removeFromCart(_)},l=()=>{if(t.isEmpty){alert("è´­ç‰©è½¦å·²ç»æ˜¯ç©ºçš„");return}confirm("ç¡®å®šè¦æ¸…ç©ºè´­ç‰©è½¦å—ï¼Ÿæ­¤æ“ä½œä¸å¯æ’¤é”€ï¼")&&(t.clearCart(),alert("è´­ç‰©è½¦å·²æ¸…ç©º"))},h=()=>{t.clearCart()};B(()=>{a.value=!0;try{t.loadFromLocalStorage(),$()}catch(_){console.error("åŠ è½½è´­ç‰©è½¦æ•°æ®å¤±è´¥:",_),n.value=!0}finally{a.value=!1}});const $=async()=>{for(const _ of t.cartItems)if(!_.picture)try{_.picture=C(_)}catch(y){console.error(`è·å–å•†å“ ${_.id} çš„å›¾ç‰‡å¤±è´¥:`,y),_.picture=C(_)}},C=_=>{const y={vegetables:"https://images.unsplash.com/photo-1540420773420-3366772f4999?w=150",fruits:"https://images.unsplash.com/photo-1568702846914-96b305d2aaeb?w=150",grains:"https://images.unsplash.com/photo-1540189549336-e6e99c3679fe?w=150",eggs:"https://images.unsplash.com/photo-1582722872445-44dc5f7e3c8f?w=150",default:"https://images.unsplash.com/photo-1542838132-92c53300491e?w=150"};return y[_.category]||y.default};return(_,y)=>(r(),i("div",ja,[e("div",Sa,[e("div",Ta,[a.value?b("",!0):(r(),i("div",Da))]),a.value?(r(),i("div",Aa,[...y[0]||(y[0]=[e("p",null,"æ­£åœ¨åŠ è½½å•†å“ä¿¡æ¯...",-1)])])):b("",!0),n.value?(r(),i("div",Ea,[...y[1]||(y[1]=[e("p",null,"åŠ è½½å•†å“ä¿¡æ¯å¤±è´¥ï¼Œè¯·åˆ·æ–°é¡µé¢é‡è¯•",-1)])])):b("",!0),!a.value&&!n.value&&!j(t).isEmpty?(r(),i("div",Na,[e("div",{class:"cart-actions"},[e("button",{class:"clear-cart-btn",onClick:l},"æ¸…ç©ºè´­ç‰©è½¦")]),e("div",qa,[(r(!0),i(M,null,D(j(t).cartItems,(p,f)=>(r(),E(la,{key:p.id,item:p,index:f,onIncreaseQuantity:T=>o(p.id),onDecreaseQuantity:T=>c(p.id),onRemoveItem:T=>v(p.id),onUpdateQuantity:T=>d(p.id,T)},null,8,["item","index","onIncreaseQuantity","onDecreaseQuantity","onRemoveItem","onUpdateQuantity"]))),128))]),g(wa,{subtotal:j(t).subtotal,shipping:j(t).shipping,discount:j(t).discount,total:j(t).total,onClearCartInstant:h},null,8,["subtotal","shipping","discount","total"])])):b("",!0),!a.value&&!n.value&&j(t).isEmpty?(r(),E(Ma,{key:3})):b("",!0)])]))}}),Ba=P(Ra,[["__scopeId","data-v-ce894a28"]]),st=pt({history:ft("/"),routes:[{path:"/",component:oe,children:[{path:"",component:Ke},{path:"category",component:ss},{path:"cart",component:Ba},{path:"product/:id",component:X,props:!0}]},{path:"/login",component:Rt},{path:"/product/:id",component:X,props:!0}]}),Ga=s=>{s.directive("lazy",{mounted(t,a){const n={root:null,rootMargin:"0px",threshold:.1},o=new IntersectionObserver(c=>{c.forEach(d=>{if(d.isIntersecting){const v=t,l=new Image;l.src=a.value,l.onload=()=>{v.tagName==="IMG"?v.src=a.value:v.style.backgroundImage=`url(${a.value})`,v.classList.add("lazy-loaded"),o.unobserve(t)},l.onerror=()=>{v.tagName==="IMG"?v.src="/images/error.png":t.style.backgroundImage="url(/images/error.png)",o.unobserve(t)}}})},n);o.observe(t),t.tagName==="IMG"?t.src="/images/loading.gif":t.style.backgroundColor="#f5f5f5"}})},at=_t(),Z=gt(Mt);at.use(ht);Z.use(Pt);Z.use(at);Z.use(st);Ga(Z);Z.mount("#app");
